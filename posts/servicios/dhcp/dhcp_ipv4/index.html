<!doctype html><html lang=es><head><title>Configuración servidor DHCP bajo debian</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.5b7777e57c70f92a6339db87ad8b77d43266b3f01b9b591a1fac1f495003fb3c.css integrity="sha256-W3d35Xxw+SpjOduHrYt31DJms/Abm1kaH6wfSVAD+zw="><link rel=icon type=image/png href=/images/site/avatar_hud72a20250efce9adf5aa46631dba75d3_2990_42x0_resize_q75_box.jpg><meta property="og:title" content="Configuración servidor DHCP bajo debian"><meta property="og:description" content="Configuración del servidor DHCP en nuestro escenario básico bajo debian 10"><meta property="og:type" content="article"><meta property="og:url" content="http://www.javiercd.es/posts/servicios/dhcp/dhcp_ipv4/"><meta property="og:image" content="http://www.javiercd.es"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-09-08T10:00:00+00:00"><meta property="article:modified_time" content="2023-09-08T10:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://www.javiercd.es"><meta name=twitter:title content="Configuración servidor DHCP bajo debian"><meta name=twitter:description content="Configuración del servidor DHCP en nuestro escenario básico bajo debian 10"><meta name=description content="Configuración del servidor DHCP en nuestro escenario básico bajo debian 10"></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/><img src=/images/site/masthead_hud72a20250efce9adf5aa46631dba75d3_2990_42x0_resize_box_3.png alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hud72a20250efce9adf5aa46631dba75d3_2990_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hud72a20250efce9adf5aa46631dba75d3_2990_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Búsqueda data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/posts/iaw/> Aplicaciones webs</a><ul><li><a href=/posts/iaw/lamp/ title="Instalación pila LAMP">Instalación pila LAMP</a></li><li><a href=/posts/iaw/lemp/ title="Instalación pila LEMP">Instalación pila LEMP</a></li><li><a href=/posts/iaw/wordpress/ title="Wordpress LAMP">Wordpress LAMP</a></li><li><a href=/posts/iaw/wordpress_lemp/ title="Wordpress LEMP">Wordpress LEMP</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/redes/> Redes</a><ul><li><a href=/posts/redes/comandos_de_supervision_de_redes/ title="Comandos de supervisión de redes">Comandos de supervisión de redes</a></li><li><a href=/posts/redes/instalacion_wireshark_gns3/ title="Instalacion GNS y Wireshark">Instalacion GNS y Wireshark</a></li><li><a href=/posts/redes/underworld/ title=Underworld>Underworld</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/servicios/> Servicios</a><ul class=active><li><a href=/posts/servicios/apache/ title=Apache>Apache</a></li><li><a class=active href=/posts/servicios/dhcp/ title=DHCP>DHCP</a></li><li><a href=/posts/servicios/dns/ title=DNS>DNS</a></li><li><a href=/posts/servicios/ftp/ title=FTP>FTP</a></li><li><a href=/posts/servicios/nat_iptables/ title="NAT con iptables">NAT con iptables</a></li><li><a href=/posts/servicios/ssh/ title=SSH>SSH</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/servicios/dhcp_v4/isc-dhcp.webp)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/john_hud72a20250efce9adf5aa46631dba75d3_2990_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Francisco Javier Cruces Doval</h5><p>viernes, 8 de septiembre de 2023</p></div><div class=title><h1>Configuración servidor DHCP bajo debian</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/tags/servicios/ class="btn, btn-sm">Servicios</a></li><li class=rounded><a href=/tags/nat/ class="btn, btn-sm">NAT</a></li><li class=rounded><a href=/tags/smr/ class="btn, btn-sm">SMR</a></li><li class=rounded><a href=/tags/dhcp/ class="btn, btn-sm">DHCP</a></li><li class=rounded><a href=/tags/snat/ class="btn, btn-sm">SNAT</a></li></ul></div><div class=post-content id=post-content><h1 id=configuración-servidor-dhcp-bajo-debian>Configuración servidor DHCP bajo debian</h1><p>En este artículo aprenderás cómo configurar el servidor DHCP isc-dhcp-server. Además, configurarás una reserva y lo configuraras para que funcione en dos ámbitos.</p><h2 id=instalación-del-servidor-isc-dhcp-server>Instalación del servidor isc-dhcp-server</h2><p>Para instalar nuestro servidor dhcp ejecutamos:</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.015.png alt></p><p>Nos dará el siguiente error ya que no esta configurado :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.016.png alt></p><h2 id=configuración-del-servidor-isc-dhcp-server>Configuración del servidor isc-dhcp-server</h2><p>Lo primero que tenemos que hacer es configurar el interfaz de red por el que va a trabajar el servidor dhcp, para ello editamos el siguiente fichero:</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.017.png alt></p><p>Y añadimos nuestra interfaz que repartirá direcciones :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.018.png alt></p><p>Configura el servidor dhcp con las siguientes características:</p><ul><li>Rango de direcciones a repartir: 192.168.0.100 - 192.168.0.110</li><li>Máscara de red: 255.255.255.0</li><li>Duración de la concesión: 1 hora</li><li>Puerta de enlace: 192.168.0.1</li><li>Servidores DNS: 8.8.8.8</li></ul><p>Para ello editamos el siguiente archivo :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.019.png alt></p><p>Ahora añadimos lo siguiente :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.020.png alt></p><p>Aquí estamos configurando nuestro ámbito conforme al enunciado .</p><p>Ahora deberemos de reiniciar el servicio con el siguiente comando :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.021.png alt></p><h2 id=configuraciòn-de-los-clientes-para-obtener-un-direccionamiento-dinámico>Configuraciòn de los clientes para obtener un direccionamiento dinámico</h2><p>Editaremos la configuración de red para que use el dhcp :</p><p>En el debian editamos el network/interfaces:</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.022.png alt></p><p>Ahora reiniciamos la tarjeta de red :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.023.png alt></p><p>Ahora comprobaremos si nos a asignado ip con ipconfig:</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.024.png alt></p><p>Vemos que se ha asignado correctamente . Repetiremos lo mismo con nuestro cliente windows .</p><p>Configuramos la tarjeta de red para que utilice el protocolo dhcp, reiniciamos la tarjeta y comprobamos la ip que nos ha asignado :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.025.png alt></p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.026.png alt></p><p>Ahora vamos a comprobar las concesiones de direcciones para ello deberemos ver el siguiente archivo . Lo abriremos con cat ya que es importante no editarlo , puede causar problemas .</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.027.png alt></p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.028.png alt></p><h2 id=reserva-de-una-direccion-ip>Reserva de una direccion IP</h2><p>Para ello deberemos editar el archivo de configuración de nuestro servidor dhcp :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.029.png alt></p><p>Una vez aquí vamos a añadir las siguientes lineas :</p><ul><li>Nombre de la reserva</li><li>hardware Ethernet: Es la dirección MAC de la tarjeta de red del host.</li><li>fixed-address: La dirección IP que le vamos a asignar.</li></ul><p>Quedaría nuestra reserva así(la pondremos fuera de la configuración de nuestro ámbito):</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.030.png alt></p><p>Ahora reiniciaremos el servicio</p><p>Vamos a comprobar que se ha realizado la concesión , para ello nos vamos a windows . Es posible que tengamos que renovar la concesión o reiniciar la tarjeta de red .</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.031.png alt></p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.032.png alt></p><p>Vamos a comprobar qué ocurre con la configuración de los clientes en determinadas circunstancias, para ello vamos a poner un tiempo de concesión muy bajo . Le pondré 1 min .</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.033.png alt></p><p>1.Los clientes toman una configuración, y a continuación apagamos el servidor dhcp. ¿Qué ocurre con el cliente windows? ¿Y con el cliente Linux?</p><p>En windows nos asignara una dirección de APIPA</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.034.png alt></p><p>Mientras que en Linux no me asigna ninguna dirección ip , aunque después me asigno una dirección de APIPA</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.035.png alt></p><h2 id=que-ocurre-cuando-modificamos-la-configuraciòn>¿Que ocurre cuando modificamos la configuraciòn?</h2><p>Los clientes toman una configuración, y a continuación cambiamos la configuración del servidor dhcp (por ejemplo, el rango). ¿Qué ocurre con el cliente windows? ¿Y con el cliente Linux?</p><p>Modificamos el rango :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.036.png alt></p><p>Y reiniciamos el servicio</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.037.png alt></p><p>Con windows mantengo la dirección de la reserva :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.038.png alt></p><p>Y con Linux nos asigna la dirección del nuevo rango :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.039.png alt></p><h2 id=configurar-dos-ambitos>Configurar dos ambitos</h2><p>Realizar las modificaciones necesarias en la configuración actual de nuestro servidor dhcp para que reparta direcciones ip a dos redes diferentes, la 192.168.0.0 y la 192.168.2.0.</p><p>Lo primero que haremos sera añadir una cuarta tarjeta de red y la configuraremos manualmente . Si no sabemos el nombre de la interfaz podemos verlo con ip a :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.040.png alt></p><p>Ahora la configuraremos estática , siguiendo el enunciado y la añadimos al /etc/default/isc-dhcp-server.</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.041.png alt></p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.042.png alt></p><p>Y configuramos nuestro segundo rango :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.043.png alt></p><p>Ahora reiniciamos el servicio :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.044.png alt></p><p>Ahora le añadiré varias tarjetas de red a mi cliente para comprobar las concesiones y configuramos las tarjetas :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.045.png alt></p><p>Y nos habría concedido dirección ip en ambos rangos :</p><p><img src=../img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.046.png alt></p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Compartir en:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fwww.javiercd.es%2fposts%2fservicios%2fdhcp%2fdhcp_ipv4%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=http%3a%2f%2fwww.javiercd.es%2fposts%2fservicios%2fdhcp%2fdhcp_ipv4%2f&text=Configuraci%c3%b3n%20servidor%20DHCP%20bajo%20debian&via=Atlas" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=http%3a%2f%2fwww.javiercd.es%2fposts%2fservicios%2fdhcp%2fdhcp_ipv4%2f&title=Configuraci%c3%b3n%20servidor%20DHCP%20bajo%20debian" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=http%3a%2f%2fwww.javiercd.es%2fposts%2fservicios%2fdhcp%2fdhcp_ipv4%2f&title=Configuraci%c3%b3n%20servidor%20DHCP%20bajo%20debian" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Configuraci%c3%b3n%20servidor%20DHCP%20bajo%20debian http%3a%2f%2fwww.javiercd.es%2fposts%2fservicios%2fdhcp%2fdhcp_ipv4%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn btn-sm email-btn" href="mailto:?subject=Configuraci%c3%b3n%20servidor%20DHCP%20bajo%20debian&body=http%3a%2f%2fwww.javiercd.es%2fposts%2fservicios%2fdhcp%2fdhcp_ipv4%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/javierasping/sentinel/edit/main/content/posts/servicios/dhcp/dhcp_ipv4.md title="Mejorar esta página" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Mejorar esta página</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Contenido</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#instalación-del-servidor-isc-dhcp-server>Instalación del servidor isc-dhcp-server</a></li><li><a href=#configuración-del-servidor-isc-dhcp-server>Configuración del servidor isc-dhcp-server</a></li><li><a href=#configuraciòn-de-los-clientes-para-obtener-un-direccionamiento-dinámico>Configuraciòn de los clientes para obtener un direccionamiento dinámico</a></li><li><a href=#reserva-de-una-direccion-ip>Reserva de una direccion IP</a></li><li><a href=#que-ocurre-cuando-modificamos-la-configuraciòn>¿Que ocurre cuando modificamos la configuraciòn?</a></li><li><a href=#configurar-dos-ambitos>Configurar dos ambitos</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navegación</h5><ul><li class=nav-item><a class=smooth-scroll href=http://www.javiercd.es#about>Sobre mi</a></li><li class=nav-item><a class=smooth-scroll href=http://www.javiercd.es#skills>Competencias</a></li><li class=nav-item><a class=smooth-scroll href=http://www.javiercd.es#education>Educación</a></li><li class=nav-item><a class=smooth-scroll href=http://www.javiercd.es#recent-posts>Últimas publicaciones</a></li><li class=nav-item><a class=smooth-scroll href=http://www.javiercd.es#accomplishments>Certificaciones</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contacto</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Aviso de responsabilidad:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Funcionando con
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.7827999695f14e82f7113bf5eae91032d5ae9d880af86097d1d692dde09fb28d.js integrity="sha256-eCeZlpXxToL3ETv16ukQMtWunYgK+GCX0daS3eCfso0=" defer></script></body></html>