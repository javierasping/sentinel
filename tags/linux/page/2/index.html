<!doctype html><html lang=es><head><title>LINUX</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><link rel=alternate type=application/rss+xml href=https://www.javiercd.es/tags/linux/index.xml title=Atlas><meta property="og:title" content="Atlas"><meta property="og:type" content="website"><meta property="og:description" content="Portafolio y blog personal de Francisco Javier Cruces Doval"><meta property="og:image" content="/images/author/john.png"><meta property="og:url" content="https://www.javiercd.es"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-tags kind-term" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Inicio</a></li><li class=nav-item><a class=nav-link href=/#about>Sobre mi</a></li><li class=nav-item><a class=nav-link href=/#skills>Competencias</a></li><li class=nav-item><a class=nav-link href=/#education>Educación</a></li><li class=nav-item><a class=nav-link href=/#recent-posts>Últimas publicaciones</a></li><li class=nav-item><a class=nav-link href=/#accomplishments>Certificaciones</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-es"></span>
Español</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/tags/linux><span class="fi fi-es"></span>
Español
</a><a class="dropdown-item nav-link languages-item" href=/en/tags/linux><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Búsqueda data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/tags data-filter=all>Etiquetas</a></li><div class="subtree taxonomy-terms"><li><a class=taxonomy-term href=https://www.javiercd.es/tags/acls/ data-taxonomy-term=acls><span class=taxonomy-label>ACLS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/andorid/ data-taxonomy-term=andorid><span class=taxonomy-label>ANDORID</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/apache/ data-taxonomy-term=apache><span class=taxonomy-label>APACHE</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/arp/ data-taxonomy-term=arp><span class=taxonomy-label>ARP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/aso/ data-taxonomy-term=aso><span class=taxonomy-label>ASO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/aw/ data-taxonomy-term=aw><span class=taxonomy-label>AW</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/bind9/ data-taxonomy-term=bind9><span class=taxonomy-label>BIND9</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/centos/ data-taxonomy-term=centos><span class=taxonomy-label>CENTOS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/ci/cd/ data-taxonomy-term=ci/cd><span class=taxonomy-label>CI/CD</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/cisco/ data-taxonomy-term=cisco><span class=taxonomy-label>CISCO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/cms/ data-taxonomy-term=cms><span class=taxonomy-label>CMS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/comandos/ data-taxonomy-term=comandos><span class=taxonomy-label>Comandos</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/contenedores/ data-taxonomy-term=contenedores><span class=taxonomy-label>Contenedores</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/controladores-nvidia/ data-taxonomy-term=controladores-nvidia><span class=taxonomy-label>Controladores NVIDIA</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/debian/ data-taxonomy-term=debian><span class=taxonomy-label>DEBIAN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/debian-12/ data-taxonomy-term=debian-12><span class=taxonomy-label>Debian 12</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/dhcp/ data-taxonomy-term=dhcp><span class=taxonomy-label>DHCP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/dnat/ data-taxonomy-term=dnat><span class=taxonomy-label>DNAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/dnsmasq/ data-taxonomy-term=dnsmasq><span class=taxonomy-label>DNSMASQ</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/enrutamiento/ data-taxonomy-term=enrutamiento><span class=taxonomy-label>Enrutamiento</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/firewall/ data-taxonomy-term=firewall><span class=taxonomy-label>FIREWALL</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/forense/ data-taxonomy-term=forense><span class=taxonomy-label>FORENSE</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/fortinet/ data-taxonomy-term=fortinet><span class=taxonomy-label>FORTINET</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/forwarding/ data-taxonomy-term=forwarding><span class=taxonomy-label>FORWARDING</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/ftp/ data-taxonomy-term=ftp><span class=taxonomy-label>FTP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/gns3/ data-taxonomy-term=gns3><span class=taxonomy-label>GNS3</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/https/ data-taxonomy-term=https><span class=taxonomy-label>HTTPS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/iptables/ data-taxonomy-term=iptables><span class=taxonomy-label>IPTABLES</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/ipv4/ data-taxonomy-term=ipv4><span class=taxonomy-label>IPv4</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/ipv6/ data-taxonomy-term=ipv6><span class=taxonomy-label>IPv6</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/iso/ data-taxonomy-term=iso><span class=taxonomy-label>ISO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/iweb/ data-taxonomy-term=iweb><span class=taxonomy-label>IWEB</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/jenkis/ data-taxonomy-term=jenkis><span class=taxonomy-label>Jenkis</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/kvm/ data-taxonomy-term=kvm><span class=taxonomy-label>KVM</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/lamp/ data-taxonomy-term=lamp><span class=taxonomy-label>LAMP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/lemp/ data-taxonomy-term=lemp><span class=taxonomy-label>LEMP</span></a></li><li><a class="taxonomy-term active" href=https://www.javiercd.es/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>LINUX</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/mariadb/ data-taxonomy-term=mariadb><span class=taxonomy-label>MariaDB</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>Mysql</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/nat/ data-taxonomy-term=nat><span class=taxonomy-label>NAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/nftables/ data-taxonomy-term=nftables><span class=taxonomy-label>NFTABLES</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/openvpn/ data-taxonomy-term=openvpn><span class=taxonomy-label>OPENVPN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/oracle/ data-taxonomy-term=oracle><span class=taxonomy-label>Oracle</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/postgresql/ data-taxonomy-term=postgresql><span class=taxonomy-label>PostgreSQL</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/redes/ data-taxonomy-term=redes><span class=taxonomy-label>Redes</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/redhat/ data-taxonomy-term=redhat><span class=taxonomy-label>REDHAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/rocky/ data-taxonomy-term=rocky><span class=taxonomy-label>ROCKY</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/servicios/ data-taxonomy-term=servicios><span class=taxonomy-label>Servicios</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/sistemas/ data-taxonomy-term=sistemas><span class=taxonomy-label>Sistemas</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/smr/ data-taxonomy-term=smr><span class=taxonomy-label>SMR</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/snat/ data-taxonomy-term=snat><span class=taxonomy-label>SNAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/ssh/ data-taxonomy-term=ssh><span class=taxonomy-label>SSH</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/strongswan/ data-taxonomy-term=strongswan><span class=taxonomy-label>STRONGSWAN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/switches/ data-taxonomy-term=switches><span class=taxonomy-label>Switches</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/vpn/ data-taxonomy-term=vpn><span class=taxonomy-label>VPN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/windows/ data-taxonomy-term=windows><span class=taxonomy-label>Windows</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/wireguard/ data-taxonomy-term=wireguard><span class=taxonomy-label>WIREGUARD</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/wireshark/ data-taxonomy-term=wireshark><span class=taxonomy-label>Wireshark</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/tags/wordpress/ data-taxonomy-term=wordpress><span class=taxonomy-label>WordPress</span></a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/posts/vpn/acceso_remoto_openvpn/accesoremoto_openvpn/ class=post-card-link><img class=card-img-top src=/images/vpn/remoteaccess.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/vpn/acceso_remoto_openvpn/accesoremoto_openvpn/ class=post-card-link><h5 class=card-title>VPN de acceso remoto con OpenVPN y certificados x509</h5><p class="card-text post-summary">Uno de los dos equipos (el que actuará como servidor) estará conectado a dos redes Para la autenticación de los extremos se usarán obligatoriamente certificados digitales, que se generarán utilizando openssl y se almacenarán en el directorio /etc/openvpn, junto con los parámetros Diffie-Helman y el certificado de la propia Autoridad de Certificación. Se utilizarán direcciones de la red 10.99.99.0/24 para las direcciones virtuales de la VPN. La dirección 10.99.99.1 se asignará al servidor VPN. Los ficheros de configuración del servidor y del cliente se crearán en el directorio /etc/openvpn de cada máquina, y se llamarán servidor.conf y cliente.conf respectivamente. Tras el establecimiento de la VPN, la máquina cliente debe ser capaz de acceder a una máquina que esté en la otra red a la que está conectado el servidor. Montando el escenario Para realizar este ejercicio he montado el siguiente escenario en GNS3 :</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/tags/openvpn/ class="btn btn-sm btn-info">OPENVPN</a></li></ul></div></div><div class=card-footer><span class=float-start>jueves, 28 de marzo de 2024
| 17 minutos </span><a href=/posts/vpn/acceso_remoto_openvpn/accesoremoto_openvpn/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class=post-card-link><img class=card-img-top src=/images/vpn/sitetosite.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class=post-card-link><h5 class=card-title>VPN site to site con OpenVPN y certificados x509</h5><p class="card-text post-summary">Montando el escenario Para realizar este ejercicio he montado el siguiente escenario en GNS3 :
Configuración del router cisco Vamos a darle a cada interfaz la configuración de red correspondiente :
# Interfaz que nos dará internet R1#configure terminal R1(config)#interface fastEthernet 0/0 R1(config-if)#ip add dhcp R1(config-if)#no shut R1(config-if)#exit # Interfaz red Servidor 1 R1(config)#interface fastEthernet 1/0 R1(config-if)#ip add 90.0.0.1 255.255.255.0 R1(config-if)#no shut R1(config-if)#exit # Interfaz red Servidor 2 R1(config)#interface fastEthernet 1/1 R1(config-if)#ip add 100.0.0.1 255.255.255.0 R1(config-if)#no shut R1(config-if)#exit # Ruta por defecto para internet R1(config)#ip route 0.0.0.0 0.0.0.0 192.168.122.1 # Guarda la configuración R1#write # Configuración de SNAT R1#conf term R1(config)#access-list 1 permit 90.0.0.0 0.0.0.255 R1(config)#access-list 1 permit 100.0.0.0 0.0.0.255 R1(config)# ip nat pool NAT-Pool 192.168.122.127 192.168.122.127 prefix-length 24 R1(config)#ip nat inside source list 1 pool NAT-Pool overload R1(config)#interface FastEthernet0/0 R1(config-if)#ip nat outside R1(config)#interface FastEthernet1/0 R1(config-if)#ip nat inside R1(config)#interface FastEthernet1/1 R1(config-if)#ip nat inside Configuración del Servidor 1 Configuración de red servidor 1 :</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/tags/openvpn/ class="btn btn-sm btn-info">OPENVPN</a></li></ul></div></div><div class=card-footer><span class=float-start>jueves, 28 de marzo de 2024
| 17 minutos </span><a href=/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/vpn/site_to_site_wireguard/site_to_site_wireguard/ class=post-card-link><img class=card-img-top src=/images/vpn/wireguard_site_to_site.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/vpn/site_to_site_wireguard/site_to_site_wireguard/ class=post-card-link><h5 class=card-title>VPN site to site Wireguard</h5><p class="card-text post-summary">[!NOTE]
Voy a partir del post de VPN acceso remoto con Wireguard , asi que es posible que haga referencia a este durante este articulo .
Generación de claves Lo primero que haremos sera instalarnos tanto en ambas maquinas el paquete Wireguard :
root@servidor1:~# sudo apt update && sudo apt install wireguard debian@servidor2:~$ sudo apt update && sudo apt install wireguard Vamos a generar los pares de claves que se utilizarán para cifrar la conexión. Necesitaremos una clave para el servidor y un par de claves adicionales por cada cliente.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/tags/wireguard/ class="btn btn-sm btn-info">WIREGUARD</a></li></ul></div></div><div class=card-footer><span class=float-start>jueves, 28 de marzo de 2024
| 6 minutos </span><a href=/posts/vpn/site_to_site_wireguard/site_to_site_wireguard/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/vpn/ipsec_cisco/ipsec_cisco/ class=post-card-link><img class=card-img-top src=/images/vpn/ipsec_cisco.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/vpn/ipsec_cisco/ipsec_cisco/ class=post-card-link><h5 class=card-title>VPN sitio a sitio con IPsec Cisco</h5><p class="card-text post-summary">En este post voy a montar una VPN IPSEC usando routers cisco .
[!NOTE]
En este post se detalla la configuración de los routers R2 y R3 , sin embargo R1 esta explicado en el post de &ldquo;VPN acceso remoto OpenVPN&rdquo; . Si quieres ver la configuración de este ultimo mírate el apartado preparando el escenario .
Configuración del escenario Como he cambiado de escenario , hay que configurar los 2 nuevos routers en la red R2 y R3 .</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li></ul></div></div><div class=card-footer><span class=float-start>jueves, 28 de marzo de 2024
| 6 minutos </span><a href=/posts/vpn/ipsec_cisco/ipsec_cisco/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class=post-card-link><img class=card-img-top src=/images/vpn/fortinet_site_to_site.png alt="Hero Image"></a></div><div class=card-body><a href=/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class=post-card-link><h5 class=card-title>VPN sitio a sitio con IPsec Fortinet</h5><p class="card-text post-summary">En este post voy a montar una VPN IPSEC usando cortafuegos Fortinet , para ello los visualizaré en GNS3 .
Preparación del escenario Para crear la VPN añadiré al escenario un nuevo Fortigate .
Así que vamos a proceder a configurarlo , lo primero sera conocer la IP que le ha dado el DHCP :
FortiGate-VM64-KVM login: admin Password: You are forced to change your password. Please input a new password. New Password: Confirm Password: Welcome! FortiGate-VM64-KVM # get system interface physical port1 == [onboard] ==[port1] mode: dhcp ip: 192.168.122.22 255.255.255.0 ipv6: ::/0 status: up speed: 1000Mbps (Duplex: full) FEC: none FEC_cap: none Esta IP que me ha dado por DHCP se la configurare como estática .</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/tags/fortinet/ class="btn btn-sm btn-info">FORTINET</a></li></ul></div></div><div class=card-footer><span class=float-start>jueves, 28 de marzo de 2024
| 3 minutos </span><a href=/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/compilacion_de_un_kernel/ class=post-card-link><img class=card-img-top src=/images/sistemas/compilacion_de_un_kernel/compilacion_de_un_kernel.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/compilacion_de_un_kernel/ class=post-card-link><h5 class=card-title>Compilación de un kernel</h5><p class="card-text post-summary">Introducción Para la realización de la practica voy a elegir el kernel 6.4.4 que me he descargado desde el repositorio backports :
Para descargarnos el código fuente usaremos apt source :
Nos creara un directorio con el código fuente
Si listamos el contenido del directorio con el código fuente veremos que la estructura es la misma que para compilar un paquete en C .
Primera compilación Lo primero que vamos a hacer es usar el fichero .config que tiene cargado nuestro kernel , actualmente el mio tiene 10640 lineas.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 4 minutos </span><a href=/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/compilacion_de_un_kernel/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/compilacion_de_un_programa_en_c_utilizando_un_makefile/ class=post-card-link><img class=card-img-top src=/images/sistemas/compilacion_de_un_programa_en_c/compilacion_de_un_programa_en_c.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/compilacion_de_un_programa_en_c_utilizando_un_makefile/ class=post-card-link><h5 class=card-title>Compilación de un programa en C utilizando un Makefile</h5><p class="card-text post-summary">Introducción La compilación de programas en el lenguaje de programación C es un proceso fundamental en el desarrollo de software. Permite traducir el código fuente escrito por los programadores en instrucciones comprensibles por la computadora. Uno de los desafíos asociados con la compilación es la gestión eficiente de los archivos y dependencias del proyecto, lo cual se vuelve aún más crucial cuando se trabaja en proyectos grandes y complejos.
Este trabajo tiene como objetivo explorar uno de los mecanismos más utilizados para compilar proyectos en C: el uso de un archivo Makefile. Un Makefile es un archivo de configuración que describe cómo se deben compilar los archivos fuente de un proyecto y cómo se deben gestionar las dependencias entre ellos. Además, permite automatizar el proceso de compilación y facilita la tarea de mantener y actualizar el código.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 4 minutos </span><a href=/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/compilacion_de_un_programa_en_c_utilizando_un_makefile/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/creacion_de_un_sistema_automatizado_de_instalacion/ class=post-card-link><img class=card-img-top src=/images/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/creacion_de_un_sistema_automatizado_de_instalacion.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/creacion_de_un_sistema_automatizado_de_instalacion/ class=post-card-link><h5 class=card-title>Creación de un sistema automatizado de instalación</h5><p class="card-text post-summary">Instalación automática de una iso En la pagina oficial de debian nos descargaremos una imagen de debian , en mi caso he seleccionado una netinstall :
Una vez descargada la imagen de debian, vamos a copiar su contenido en una carpeta para después hacer unas modificaciones. Para ello montaremos la iso como dispositivo loop :
Una vez montada podremos ver su contenido :
Vamos a hacernos una copia de los ficheros que vamos a utilizar a un directorio nuestro para poder realizar cambios en los mismos , una vez hagamos esto podemos desmontar la imagen :</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 3 minutos </span><a href=/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/creacion_de_un_sistema_automatizado_de_instalacion/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ejercicios_de_manejo_de_modulos/ class=post-card-link><img class=card-img-top src=/images/sistemas/ejercicios_de_manejo_de_modulos/ejercicios_de_manejo_de_modulos.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ejercicios_de_manejo_de_modulos/ class=post-card-link><h5 class=card-title>Ejercicios de manejo de módulos</h5><p class="card-text post-summary">1.Comprueba los módulos cargados en tu equipo. 2.Cuenta el número de módulos disponibles en el núcleo que estás usando. 3.Conecta un lápiz USB y observa la salida de la instrucción sudo dmesg. Vemos como el kernel detecta el dispositivo usb y se cargan los módulos necesarios para el mismo :
Vemos como el numero de módulos cargados han aumentado :
4.Elimina el módulo correspondiente a algún dispotivo no esencial y comprueba qué ocurre. Vuelve a cargarlo. Si lo descargamos no podremos hacer uso de sistemas de ficheros exfat :</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 2 minutos </span><a href=/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ejercicios_de_manejo_de_modulos/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ejercicios_de_modificacion_de_parametros_del_kernel/ class=post-card-link><img class=card-img-top src=/images/sistemas/ejercicios_de_modificacion_de_parametros_del_kernel/ejercicios_de_modificacion_de_parametros_del_kernel.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ejercicios_de_modificacion_de_parametros_del_kernel/ class=post-card-link><h5 class=card-title>Ejercicios de modificación de parámetros del kernel</h5><p class="card-text post-summary">1.Deshabilita apparmor en el arranque. 2.Deshabilita si es posible el Kernel Mode Setting (KSM) de la tarjeta gráfica. Añadimos la siguiente linea en la configuraron del grub : Actualizamos el grub para que se apliquen los cambios :
3.Cambia provisionalmente la swappiness para que la swap de tu equipo se active cuando se use más de un 90% de la RAM. 4.Haz que el cambio de la swappiness sea permanente.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 1 minuto </span><a href=/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ejercicios_de_modificacion_de_parametros_del_kernel/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ejercicios_gestion_de_paqueteria/ class=post-card-link><img class=card-img-top src=/images/sistemas/ejercicios_de_manejo_de_modulos/ejercicios_de_manejo_de_modulos.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ejercicios_gestion_de_paqueteria/ class=post-card-link><h5 class=card-title>Ejercicios gestión de paquetería</h5><p class="card-text post-summary">Trabajo con apt, aptitude, dpkg Ejercicio 1 Que acciones consigo al realizar apt update y apt upgrade. Explica detalladamente. El comando apt update es el primer paso fundamental en la actualización de paquetes. Realiza las siguientes acciones:
Recupera Metadatos Remotos: apt update se comunica con los repositorios de software en línea y recupera los metadatos relacionados con los paquetes disponibles. Estos metadatos incluyen información sobre las últimas versiones de los paquetes, sus dependencias y otra información esencial. Actualiza la Copia Local de Metadatos: Luego, apt reconstruye y actualiza la copia local de estos metadatos. Esto permite que el sistema acceda rápidamente a información sobre los paquetes sin necesidad de descargarla repetidamente. Una vez que apt update ha actualizado la información sobre los paquetes disponibles, el siguiente paso es utilizar el comando apt upgrade. Este comando realiza una serie de pasos importantes:</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 9 minutos </span><a href=/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ejercicios_gestion_de_paqueteria/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/posts/sistemas/comandos_linux/gestion_de_paquetes/gestion_de_paquetes/ class=post-card-link><img class=card-img-top src=/images/sistemas/gestion_de_paquetes/gestion_de_paquetes.jpg alt="Hero Image"></a></div><div class=card-body><a href=/posts/sistemas/comandos_linux/gestion_de_paquetes/gestion_de_paquetes/ class=post-card-link><h5 class=card-title>Gestion de paquetes</h5><p class="card-text post-summary">Indica los pasos a seguir para modificar la configuración de red de DHCP a estática Para configurar la interfaz ens1 con una dirección IP estática (por ejemplo, 192.168.122.10), debes modificar el archivo /etc/sysconfig/network-scripts/ifcfg-ens1 :
Para aplicar la configuración reiniciamos el Network Manager :
Actualiza el sistema a las versiones más recientes de los paquetes instalados Instala el repositorio adicional EPEL. Instala el paquete bash-completion. Instala el paquete que proporciona el programa dig, explicando los pasos que has dado para encontrarlo</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>miércoles, 29 de noviembre de 2023
| 1 minuto </span><a href=/posts/sistemas/comandos_linux/gestion_de_paquetes/gestion_de_paquetes/ class="float-end btn btn-outline-info btn-sm">Leer</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class=page-item><a href=/tags/linux/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/tags/linux/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/tags/linux/ aria-label="Page 1" class=page-link role=button>1</a></li><li class="page-item active"><a aria-current=page aria-label="Page 2" class=page-link role=button>2</a></li><li class=page-item><a href=/tags/linux/page/3/ aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/tags/linux/page/3/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/tags/linux/page/3/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navegación</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/#about>Sobre mi</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/#skills>Competencias</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/#education>Educación</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/#recent-posts>Últimas publicaciones</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/#accomplishments>Certificaciones</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contacto</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Aviso de responsabilidad:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Funcionando con
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.29119cfdb8d2f06f4caaea7b9908096b5c109c5174eab5fca7e4e0efb0ffcaa0.js integrity="sha256-KRGc/bjS8G9Mqup7mQgJa1wQnFF06rX8p+Tg77D/yqA=" defer></script></body></html>