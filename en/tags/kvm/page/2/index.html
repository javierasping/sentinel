<!doctype html><html lang=en><head><title>KVM</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><link rel=alternate type=application/rss+xml href=https://www.javiercd.es/en/tags/kvm/index.xml title=Atlas><meta property="og:title" content="Atlas"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio and personal blog of Francisco Javier Cruces Doval"><meta property="og:image" content="/images/author/john.png"><meta property="og:url" content="https://www.javiercd.es"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-tags kind-term" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About Me</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/en#education>Education</a></li><li class=nav-item><a class=nav-link href=/en#recent-posts>Recent Posts</a></li><li class=nav-item><a class=nav-link href=/en#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/tags/kvm><span class="fi fi-es"></span>
Español
</a><a class="dropdown-item nav-link languages-item" href=/en/tags/kvm><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/tags data-filter=all>Tags</a></li><div class="subtree taxonomy-terms"><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/acls/ data-taxonomy-term=acls><span class=taxonomy-label>ACLs</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/administration/ data-taxonomy-term=administration><span class=taxonomy-label>Administration</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/andorid/ data-taxonomy-term=andorid><span class=taxonomy-label>ANDORID</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/apache/ data-taxonomy-term=apache><span class=taxonomy-label>APACHE</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/arp/ data-taxonomy-term=arp><span class=taxonomy-label>ARP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/asir/ data-taxonomy-term=asir><span class=taxonomy-label>ASIR</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/aso/ data-taxonomy-term=aso><span class=taxonomy-label>ASO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/aw/ data-taxonomy-term=aw><span class=taxonomy-label>AW</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/bind9/ data-taxonomy-term=bind9><span class=taxonomy-label>BIND9</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/bridge/ data-taxonomy-term=bridge><span class=taxonomy-label>Bridge</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/centos/ data-taxonomy-term=centos><span class=taxonomy-label>CENTOS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ci/cd/ data-taxonomy-term=ci/cd><span class=taxonomy-label>CI/CD</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/cisco/ data-taxonomy-term=cisco><span class=taxonomy-label>CISCO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/cloning/ data-taxonomy-term=cloning><span class=taxonomy-label>Cloning</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/cms/ data-taxonomy-term=cms><span class=taxonomy-label>CMS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/comands/ data-taxonomy-term=comands><span class=taxonomy-label>Comands</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/containers/ data-taxonomy-term=containers><span class=taxonomy-label>Containers</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/contenedores/ data-taxonomy-term=contenedores><span class=taxonomy-label>Contenedores</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/controladores-nvidia/ data-taxonomy-term=controladores-nvidia><span class=taxonomy-label>Controladores NVIDIA</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/debian/ data-taxonomy-term=debian><span class=taxonomy-label>DEBIAN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/debian-12/ data-taxonomy-term=debian-12><span class=taxonomy-label>Debian 12</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/debian13/ data-taxonomy-term=debian13><span class=taxonomy-label>Debian13</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dhcp/ data-taxonomy-term=dhcp><span class=taxonomy-label>DHCP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dnat/ data-taxonomy-term=dnat><span class=taxonomy-label>DNAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dnsmasq/ data-taxonomy-term=dnsmasq><span class=taxonomy-label>DNSMASQ</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/enrutamiento/ data-taxonomy-term=enrutamiento><span class=taxonomy-label>Enrutamiento</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/firewall/ data-taxonomy-term=firewall><span class=taxonomy-label>FIREWALL</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/forense/ data-taxonomy-term=forense><span class=taxonomy-label>FORENSE</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/fortinet/ data-taxonomy-term=fortinet><span class=taxonomy-label>FORTINET</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/forwarding/ data-taxonomy-term=forwarding><span class=taxonomy-label>FORWARDING</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ftp/ data-taxonomy-term=ftp><span class=taxonomy-label>FTP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/gns3/ data-taxonomy-term=gns3><span class=taxonomy-label>GNS3</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/https/ data-taxonomy-term=https><span class=taxonomy-label>HTTPS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/hypervisor/ data-taxonomy-term=hypervisor><span class=taxonomy-label>Hypervisor</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/iptables/ data-taxonomy-term=iptables><span class=taxonomy-label>IPTABLES</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ipv4/ data-taxonomy-term=ipv4><span class=taxonomy-label>IPv4</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ipv6/ data-taxonomy-term=ipv6><span class=taxonomy-label>IPv6</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/iso/ data-taxonomy-term=iso><span class=taxonomy-label>ISO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/iweb/ data-taxonomy-term=iweb><span class=taxonomy-label>IWEB</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/jenkins/ data-taxonomy-term=jenkins><span class=taxonomy-label>Jenkins</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/jenkis/ data-taxonomy-term=jenkis><span class=taxonomy-label>Jenkis</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span></a></li><li><a class="taxonomy-term active" href=https://www.javiercd.es/en/tags/kvm/ data-taxonomy-term=kvm><span class=taxonomy-label>KVM</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/lamp/ data-taxonomy-term=lamp><span class=taxonomy-label>LAMP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/lemp/ data-taxonomy-term=lemp><span class=taxonomy-label>LEMP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/libvirt/ data-taxonomy-term=libvirt><span class=taxonomy-label>Libvirt</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>LINUX</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/mariadb/ data-taxonomy-term=mariadb><span class=taxonomy-label>MariaDB</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/metrics/ data-taxonomy-term=metrics><span class=taxonomy-label>Metrics</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>Mysql</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/nat/ data-taxonomy-term=nat><span class=taxonomy-label>NAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/network/ data-taxonomy-term=network><span class=taxonomy-label>Network</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/networking/ data-taxonomy-term=networking><span class=taxonomy-label>Networking</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/nftables/ data-taxonomy-term=nftables><span class=taxonomy-label>NFTABLES</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/nvidia-drivers/ data-taxonomy-term=nvidia-drivers><span class=taxonomy-label>NVIDIA Drivers</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>Observability</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/openvpn/ data-taxonomy-term=openvpn><span class=taxonomy-label>OPENVPN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/oracle/ data-taxonomy-term=oracle><span class=taxonomy-label>Oracle</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/pools/ data-taxonomy-term=pools><span class=taxonomy-label>Pools</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/postgresql/ data-taxonomy-term=postgresql><span class=taxonomy-label>PostgreSQL</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/prometheus/ data-taxonomy-term=prometheus><span class=taxonomy-label>Prometheus</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/redes/ data-taxonomy-term=redes><span class=taxonomy-label>Redes</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/redhat/ data-taxonomy-term=redhat><span class=taxonomy-label>REDHAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/resize/ data-taxonomy-term=resize><span class=taxonomy-label>Resize</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/resources/ data-taxonomy-term=resources><span class=taxonomy-label>Resources</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/rocky/ data-taxonomy-term=rocky><span class=taxonomy-label>ROCKY</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/routing/ data-taxonomy-term=routing><span class=taxonomy-label>Routing</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/services/ data-taxonomy-term=services><span class=taxonomy-label>Services</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/servicios/ data-taxonomy-term=servicios><span class=taxonomy-label>Servicios</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/sistemas/ data-taxonomy-term=sistemas><span class=taxonomy-label>Sistemas</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/smr/ data-taxonomy-term=smr><span class=taxonomy-label>SMR</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/snapshots/ data-taxonomy-term=snapshots><span class=taxonomy-label>Snapshots</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/snat/ data-taxonomy-term=snat><span class=taxonomy-label>SNAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ssh/ data-taxonomy-term=ssh><span class=taxonomy-label>SSH</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/storage/ data-taxonomy-term=storage><span class=taxonomy-label>Storage</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/strongswan/ data-taxonomy-term=strongswan><span class=taxonomy-label>STRONGSWAN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/switches/ data-taxonomy-term=switches><span class=taxonomy-label>Switches</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/templates/ data-taxonomy-term=templates><span class=taxonomy-label>Templates</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ubuntu/ data-taxonomy-term=ubuntu><span class=taxonomy-label>Ubuntu</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/virtualization/ data-taxonomy-term=virtualization><span class=taxonomy-label>Virtualization</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/vm/ data-taxonomy-term=vm><span class=taxonomy-label>VM</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/volumes/ data-taxonomy-term=volumes><span class=taxonomy-label>Volumes</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/vpn/ data-taxonomy-term=vpn><span class=taxonomy-label>VPN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/windows/ data-taxonomy-term=windows><span class=taxonomy-label>Windows</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/wireguard/ data-taxonomy-term=wireguard><span class=taxonomy-label>WIREGUARD</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/wireshark/ data-taxonomy-term=wireshark><span class=taxonomy-label>Wireshark</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/wordpress/ data-taxonomy-term=wordpress><span class=taxonomy-label>WordPress</span></a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/administrar-virsh/administrar-virsh/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/gestion-vm/gestion-virsh.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/administrar-virsh/administrar-virsh/ class=post-card-link><h5 class=card-title>How to manage virtual machines using virsh</h5><p class="card-text post-summary">virsh is a powerful command-line tool included in libvirt that allows you to manage virtual machines and associated resources in KVM.
Through virsh, you can create, start, stop, modify, and monitor domains (virtual machines), as well as manage networks, volumes, and storage pools.
1. Domain (Virtual Machine) Management Command Description virsh list --all Lists all virtual machines, both active and inactive. virsh start vm_name Starts a previously defined virtual machine. virsh shutdown vm_name Shuts down a virtual machine gracefully. virsh destroy vm_name Stops a virtual machine immediately (similar to forcefully powering it off). virsh suspend vm_name Suspends the execution of a virtual machine. virsh resume vm_name Resumes a suspended machine. virsh reboot vm_name Reboots the virtual machine. virsh reset vm_name Resets a virtual machine as if the physical reset button was pressed. virsh autostart vm_name Enables automatic startup of the VM when the host boots. virsh dominfo vm_name Shows detailed information about the VM (state, UUID, CPU, memory, etc.). virsh dumpxml vm_name Shows the complete XML definition of the VM. virsh edit vm_name Opens the VM&rsquo;s XML definition in an editor for modification. virsh undefine vm_name Removes the VM definition without deleting its disk. virsh domrename old_name new_name Changes the name of a virtual machine. 2. Information and Monitoring Command Description virsh domstate vm_name Shows the current state of a VM (running, shut off, etc.). virsh domstats vm_name Shows real-time CPU, network, and disk statistics. virsh domblklist vm_name Lists block devices (disks) associated with a VM. virsh domblkinfo vm_name vda Shows detailed information about a virtual disk. virsh domiflist vm_name Shows network interfaces connected to the VM. virsh domifaddr vm_name Shows IP addresses assigned to the VM&rsquo;s network interfaces. virsh cpu-stats vm_name Shows detailed CPU usage statistics for the VM. virsh dommemstat vm_name Shows memory usage statistics for a VM. virsh console vm_name Connects to the virtual machine&rsquo;s text console. virsh vncdisplay vm_name Shows the VNC port assigned to the VM for graphical access. 3. Storage Command Description virsh pool-list Lists all storage pools. virsh pool-info pool_name Shows detailed information about a pool. virsh pool-start pool_name Starts a storage pool. virsh pool-destroy pool_name Stops a storage pool. virsh pool-undefine pool_name Removes the pool definition. virsh vol-list pool_name Lists volumes (disks) within a pool. virsh vol-info --pool pool_name vol_name Shows information about a volume. virsh vol-create-as pool_name vol_name 20G --format qcow2 Creates a new 20 GB volume in QCOW2 format. virsh vol-delete --pool pool_name vol_name Deletes a volume from a pool. virsh vol-clone --pool pool_name source_vol new_vol Clones an existing volume. 4. Virtual Networks Command Description virsh net-list --all Lists all virtual networks, both active and inactive. virsh net-info net_name Shows detailed information about a network. virsh net-start net_name Starts a virtual network. virsh net-destroy net_name Stops a virtual network. virsh net-autostart net_name Enables automatic startup of a network. virsh net-edit net_name Edits the XML configuration of a network. virsh net-dumpxml net_name Shows the XML definition of a network. virsh net-update net_name Updates network parameters without needing to restart it. virsh net-dhcp-leases net_name Shows IP addresses delivered by DHCP on a network. 5. Snapshots and Backups Command Description virsh snapshot-list vm_name Lists available snapshots for a VM. virsh snapshot-create-as vm_name snapshot_name "Description" Creates a snapshot with name and description. virsh snapshot-revert vm_name snapshot_name Reverts the VM to the state saved in a snapshot. virsh snapshot-delete vm_name snapshot_name Deletes a specific snapshot. virsh backup-begin vm_name --target /backup/ Initiates a backup of the VM&rsquo;s disks. virsh backup-dumpxml vm_name Shows XML information about an ongoing backup task. 6. Migration and State Saving Command Description virsh save vm_name /ruta/estado.save Saves the current state of a VM to a file. virsh restore /ruta/estado.save Restores a VM from a saved file. virsh migrate --live vm_name qemu+ssh://host_destino/system Migrates a running VM to another host via SSH. 7. Host and Hypervisor Information Command Description virsh nodeinfo Shows information about the host&rsquo;s CPU, memory, and architecture. virsh capabilities Shows the hypervisor&rsquo;s capabilities (CPU, virtualization, etc.). virsh domcapabilities Shows capabilities supported by VMs. virsh version Shows the version of libvirt and the hypervisor. virsh hostname Shows the hostname running libvirt. virsh uri Shows the connection URI to the hypervisor. 8. Additional Tips To run commands without privileges, you can use --connect qemu:///session or adding your user to the group kvm and libvirt. If managing system VMs, use sudo virsh --connect qemu:///system. Use virsh help &lt;section> to see all available commands in a group (for example, virsh help domain). All changes made via virsh edit are saved directly to the configuration XML files in /etc/libvirt/qemu/.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/en/tags/vm/ class="btn btn-sm btn-info">VM</a></li><li class=rounded><a href=/en/tags/administration/ class="btn btn-sm btn-info">Administration</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, October 16, 2025
| 4 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/administrar-virsh/administrar-virsh/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/arquitectura-kvm/arquitectura-kvm/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/introduccion/arquitectura-kvm.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/arquitectura-kvm/arquitectura-kvm/ class=post-card-link><h5 class=card-title>KVM architecture and operation</h5><p class="card-text post-summary">What is KVM? KVM, or Kernel-based Virtual Machine, is a software feature that can be installed on Linux systems to create virtual machines (VMs). A virtual machine acts as an independent computer within another physical machine, sharing resources such as CPU, memory, and network bandwidth with the host system.
KVM is a component of the Linux kernel that has provided native virtualization support since 2007, turning any Linux machine into a bare-metal hypervisor.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/vm/ class="btn btn-sm btn-info">VM</a></li><li class=rounded><a href=/en/tags/hypervisor/ class="btn btn-sm btn-info">Hypervisor</a></li></ul></div></div><div class=card-footer><span class=float-start>Monday, October 13, 2025
| 2 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/arquitectura-kvm/arquitectura-kvm/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/redimension-discos-vms/redimension-discos-vms/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/almacenamiento/redimensionar-volumenes.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/redimension-discos-vms/redimension-discos-vms/ class=post-card-link><h5 class=card-title>How to resize virtual machine disks</h5><p class="card-text post-summary">In this example we&rsquo;ll use the default pool and a volume named vdisk-10G.qcow2. We&rsquo;ll show how to create the volume from the host, how to format it with common filesystems (ext4, FAT32, XFS, btrfs) from inside the guest, and finally how to add 10 GB to the volume and resize the partition and filesystem.
Note: commands that manage volumes (create, resize) run on the host and use your prompt. Commands executed inside the guest (partitioning and formatting) are shown with the guest prompt javiercruces@debian13:~$.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/storage/ class="btn btn-sm btn-info">Storage</a></li><li class=rounded><a href=/en/tags/resize/ class="btn btn-sm btn-info">Resize</a></li></ul></div></div><div class=card-footer><span class=float-start>Saturday, October 25, 2025
| 4 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/redimension-discos-vms/redimension-discos-vms/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/clonar-y-renombrar-vm/clonar-y-renombrar-vm/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/gestion-vm/hacer-clones.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/clonar-y-renombrar-vm/clonar-y-renombrar-vm/ class=post-card-link><h5 class=card-title>Clone and rename virtual machines in KVM</h5><p class="card-text post-summary">One of the advantages of virtualization is the ability to clone virtual machines to quickly create homogeneous environments. However, when we clone a VM that contains an operating system, the clone inherits unique identifiers such as the machine ID, MAC addresses, host SSH keys, etc., which should be unique for each machine.
In this guide we will cover how to:
Clone virtual machines with virt-clone Generalize clones with virt-sysprep Customize new instances with virt-customize Rename virtual machines with virsh domrename Troubleshoot common issues after cloning Prerequisites Make sure the following packages are installed:</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/en/tags/vm/ class="btn btn-sm btn-info">VM</a></li><li class=rounded><a href=/en/tags/cloning/ class="btn btn-sm btn-info">Cloning</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, October 16, 2025
| 7 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/clonar-y-renombrar-vm/clonar-y-renombrar-vm/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/ampliar-recursos-vm/ampliar-recursos-vm/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/gestion-vm/ampliar-recursos.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/ampliar-recursos-vm/ampliar-recursos-vm/ class=post-card-link><h5 class=card-title>How to expand VM memory, CPU and disks</h5><p class="card-text post-summary">In this article we&rsquo;ll cover three practical cases for expanding resources in a VM managed with libvirt/KVM:
Increase the number of vCPUs (cores) Increase RAM memory Expand disk and filesystem inside the guest We&rsquo;ll use virsh commands, libguestfs tools where applicable, and standard utilities inside the guest (growpart, resize2fs, xfs_growfs, LVM). I&rsquo;ll include &ldquo;hot&rdquo; methods when the system supports them and safe cold alternatives.
Note: To run without sudo, your user must belong to the libvirt and kvm groups.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/en/tags/vm/ class="btn btn-sm btn-info">VM</a></li><li class=rounded><a href=/en/tags/resources/ class="btn btn-sm btn-info">Resources</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, October 16, 2025
| 4 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/ampliar-recursos-vm/ampliar-recursos-vm/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/plantilla-debian13/plantilla-debian13/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/gestion-vm/plantillas.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/plantilla-debian13/plantilla-debian13/ class=post-card-link><h5 class=card-title>How to create a Debian 13 virtual machine template</h5><p class="card-text post-summary">A virtual machine template is a preconfigured OS image that we use to quickly deploy new VMs, avoiding repetitions and errors. Here we&rsquo;ll see how to create a Debian 13 master template ready for cloning.
1 Create and install the base VM Create a clean Debian 13 VM, apply all updates and add the common software you want on all clones (guest agent, utilities, etc.). Minimal example:
# Create the base VM (adjust CPU, RAM, disk, ISO and network to your environment) virt-install \ --name debian13-base \ --memory 4096 \ --vcpus 2 \ --disk path=/var/lib/libvirt/images/debian13-base.qcow2,size=20,format=qcow2 \ --cdrom /var/lib/libvirt/images/debian-13.1.0-amd64-netinst.iso \ --os-variant debian12 \ --network network=default,model=virtio \ --noautoconsole Once the VM is created, install all the components you want this template to have: users, packages, etc.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/en/tags/vm/ class="btn btn-sm btn-info">VM</a></li><li class=rounded><a href=/en/tags/templates/ class="btn btn-sm btn-info">Templates</a></li><li class=rounded><a href=/en/tags/debian13/ class="btn btn-sm btn-info">Debian13</a></li></ul></div></div><div class=card-footer><span class=float-start>Saturday, October 18, 2025
| 6 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/plantilla-debian13/plantilla-debian13/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/snapshots-kvm/snapshots-kvm/ class=post-card-link><img class=card-img-top src=/images/virtualizacion-kvm-linux/gestion-vm/snapshots.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/snapshots-kvm/snapshots-kvm/ class=post-card-link><h5 class=card-title>How to create and manage snapshots in KVM</h5><p class="card-text post-summary">Snapshots let you capture a VM&rsquo;s state at a specific moment so you can roll back if something goes wrong (updates, risky changes, tests). In KVM with libvirt there are two main families:
Internal snapshots: the snapshot content is stored inside the qcow2 file itself. They usually require the VM to be powered off and only work with qcow2 storage (not raw, LVM, etc.). External snapshots: they create separate overlay files (qcow2); these are the most used for hot snapshots (running VM). They allow more flexible flows and can be consolidated later (blockcommit). Additionally, a snapshot can be:</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/en/tags/vm/ class="btn btn-sm btn-info">VM</a></li><li class=rounded><a href=/en/tags/snapshots/ class="btn btn-sm btn-info">Snapshots</a></li></ul></div></div><div class=card-footer><span class=float-start>Friday, October 17, 2025
| 5 minutes </span><a href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/snapshots-kvm/snapshots-kvm/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/redes/android_gns3/android/ class=post-card-link><img class=card-img-top src=/images/redes/android_gns3/android.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/redes/android_gns3/android/ class=post-card-link><h5 class=card-title>Installation of android in GNS3 with KVM</h5><p class="card-text post-summary">To download the android image you can do it from this page &ndash; > https://www.fosshub.com/Android-x86.html:
wget https://www.fosshub.com/Android-x86.html?dwl=android-x86_64-9.0-r2.iso Create a KVM machine as if it were a Debian, I&rsquo;ve given it 2GB of RAM and 2 Cores:
In our case we can launch an automatic installation:
When you have the machine installed, turn off the machine and we&rsquo;ll import it in gns3. To do this we will take the KVM disk and import it into the directory where we have installed the GNS3 images, then property the copied disk to your user.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/gns3/ class="btn btn-sm btn-info">GNS3</a></li><li class=rounded><a href=/en/tags/andorid/ class="btn btn-sm btn-info">ANDORID</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 1 minute </span><a href=/en/posts/redes/android_gns3/android/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class=page-item><a href=/en/tags/kvm/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/en/tags/kvm/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/en/tags/kvm/ aria-label="Page 1" class=page-link role=button>1</a></li><li class="page-item active"><a aria-current=page aria-label="Page 2" class=page-link role=button>2</a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Next class=page-link role=button tabindex=-1><span aria-hidden=true>&#187;</span></a></li><li class="page-item disabled"><a aria-disabled=true aria-label=Last class=page-link role=button tabindex=-1><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.88e12b83fd69c92e719c3aa554a42e6d0f20fb72d76bd329f31250ef3bd11899.js integrity="sha256-iOErg/1pyS5xnDqlVKQubQ8g+3LXa9Mp8xJQ7zvRGJk=" defer></script></body></html>