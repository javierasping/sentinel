<!doctype html><html lang=en><head><title>VPN</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><link rel=alternate type=application/rss+xml href=https://www.javiercd.es/en/tags/vpn/index.xml title=Atlas><meta property="og:title" content="Atlas"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio and personal blog of Francisco Javier Cruces Doval"><meta property="og:image" content="/images/author/john.png"><meta property="og:url" content="https://www.javiercd.es"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-tags kind-term" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About Me</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/en#education>Education</a></li><li class=nav-item><a class=nav-link href=/en#recent-posts>Recent Posts</a></li><li class=nav-item><a class=nav-link href=/en#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/tags/vpn><span class="fi fi-es"></span>
Español
</a><a class="dropdown-item nav-link languages-item" href=/en/tags/vpn><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/tags data-filter=all>Tags</a></li><div class="subtree taxonomy-terms"><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/acls/ data-taxonomy-term=acls><span class=taxonomy-label>ACLs</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/andorid/ data-taxonomy-term=andorid><span class=taxonomy-label>ANDORID</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/apache/ data-taxonomy-term=apache><span class=taxonomy-label>APACHE</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/arp/ data-taxonomy-term=arp><span class=taxonomy-label>ARP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/asir/ data-taxonomy-term=asir><span class=taxonomy-label>ASIR</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/aso/ data-taxonomy-term=aso><span class=taxonomy-label>ASO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/aw/ data-taxonomy-term=aw><span class=taxonomy-label>AW</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/bind9/ data-taxonomy-term=bind9><span class=taxonomy-label>BIND9</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/centos/ data-taxonomy-term=centos><span class=taxonomy-label>CENTOS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ci/cd/ data-taxonomy-term=ci/cd><span class=taxonomy-label>CI/CD</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/cisco/ data-taxonomy-term=cisco><span class=taxonomy-label>CISCO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/cms/ data-taxonomy-term=cms><span class=taxonomy-label>CMS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/comands/ data-taxonomy-term=comands><span class=taxonomy-label>Comands</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/containers/ data-taxonomy-term=containers><span class=taxonomy-label>Containers</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/contenedores/ data-taxonomy-term=contenedores><span class=taxonomy-label>Contenedores</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/controladores-nvidia/ data-taxonomy-term=controladores-nvidia><span class=taxonomy-label>Controladores NVIDIA</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/debian/ data-taxonomy-term=debian><span class=taxonomy-label>DEBIAN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/debian-12/ data-taxonomy-term=debian-12><span class=taxonomy-label>Debian 12</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dhcp/ data-taxonomy-term=dhcp><span class=taxonomy-label>DHCP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dnat/ data-taxonomy-term=dnat><span class=taxonomy-label>DNAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/dnsmasq/ data-taxonomy-term=dnsmasq><span class=taxonomy-label>DNSMASQ</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/enrutamiento/ data-taxonomy-term=enrutamiento><span class=taxonomy-label>Enrutamiento</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/firewall/ data-taxonomy-term=firewall><span class=taxonomy-label>FIREWALL</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/forense/ data-taxonomy-term=forense><span class=taxonomy-label>FORENSE</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/fortinet/ data-taxonomy-term=fortinet><span class=taxonomy-label>FORTINET</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/forwarding/ data-taxonomy-term=forwarding><span class=taxonomy-label>FORWARDING</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ftp/ data-taxonomy-term=ftp><span class=taxonomy-label>FTP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/gns3/ data-taxonomy-term=gns3><span class=taxonomy-label>GNS3</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/https/ data-taxonomy-term=https><span class=taxonomy-label>HTTPS</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/iptables/ data-taxonomy-term=iptables><span class=taxonomy-label>IPTABLES</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ipv4/ data-taxonomy-term=ipv4><span class=taxonomy-label>IPv4</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ipv6/ data-taxonomy-term=ipv6><span class=taxonomy-label>IPv6</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/iso/ data-taxonomy-term=iso><span class=taxonomy-label>ISO</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/iweb/ data-taxonomy-term=iweb><span class=taxonomy-label>IWEB</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/jenkins/ data-taxonomy-term=jenkins><span class=taxonomy-label>Jenkins</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/jenkis/ data-taxonomy-term=jenkis><span class=taxonomy-label>Jenkis</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/kubernetes/ data-taxonomy-term=kubernetes><span class=taxonomy-label>Kubernetes</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/kvm/ data-taxonomy-term=kvm><span class=taxonomy-label>KVM</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/lamp/ data-taxonomy-term=lamp><span class=taxonomy-label>LAMP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/lemp/ data-taxonomy-term=lemp><span class=taxonomy-label>LEMP</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/linux/ data-taxonomy-term=linux><span class=taxonomy-label>LINUX</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/mariadb/ data-taxonomy-term=mariadb><span class=taxonomy-label>MariaDB</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/metrics/ data-taxonomy-term=metrics><span class=taxonomy-label>Metrics</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/mysql/ data-taxonomy-term=mysql><span class=taxonomy-label>Mysql</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/nat/ data-taxonomy-term=nat><span class=taxonomy-label>NAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/network/ data-taxonomy-term=network><span class=taxonomy-label>Network</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/networking/ data-taxonomy-term=networking><span class=taxonomy-label>Networking</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/nftables/ data-taxonomy-term=nftables><span class=taxonomy-label>NFTABLES</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/nvidia-drivers/ data-taxonomy-term=nvidia-drivers><span class=taxonomy-label>NVIDIA Drivers</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>Observability</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/openvpn/ data-taxonomy-term=openvpn><span class=taxonomy-label>OPENVPN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/oracle/ data-taxonomy-term=oracle><span class=taxonomy-label>Oracle</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/postgresql/ data-taxonomy-term=postgresql><span class=taxonomy-label>PostgreSQL</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/prometheus/ data-taxonomy-term=prometheus><span class=taxonomy-label>Prometheus</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/redes/ data-taxonomy-term=redes><span class=taxonomy-label>Redes</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/redhat/ data-taxonomy-term=redhat><span class=taxonomy-label>REDHAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/rocky/ data-taxonomy-term=rocky><span class=taxonomy-label>ROCKY</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/routing/ data-taxonomy-term=routing><span class=taxonomy-label>Routing</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/services/ data-taxonomy-term=services><span class=taxonomy-label>Services</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/servicios/ data-taxonomy-term=servicios><span class=taxonomy-label>Servicios</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/sistemas/ data-taxonomy-term=sistemas><span class=taxonomy-label>Sistemas</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/smr/ data-taxonomy-term=smr><span class=taxonomy-label>SMR</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/snat/ data-taxonomy-term=snat><span class=taxonomy-label>SNAT</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/ssh/ data-taxonomy-term=ssh><span class=taxonomy-label>SSH</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/strongswan/ data-taxonomy-term=strongswan><span class=taxonomy-label>STRONGSWAN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/switches/ data-taxonomy-term=switches><span class=taxonomy-label>Switches</span></a></li><li><a class="taxonomy-term active" href=https://www.javiercd.es/en/tags/vpn/ data-taxonomy-term=vpn><span class=taxonomy-label>VPN</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/windows/ data-taxonomy-term=windows><span class=taxonomy-label>Windows</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/wireguard/ data-taxonomy-term=wireguard><span class=taxonomy-label>WIREGUARD</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/wireshark/ data-taxonomy-term=wireshark><span class=taxonomy-label>Wireshark</span></a></li><li><a class=taxonomy-term href=https://www.javiercd.es/en/tags/wordpress/ data-taxonomy-term=wordpress><span class=taxonomy-label>WordPress</span></a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/comparativa_ovpn_wire/comparativa_ovpn_wire/ class=post-card-link><img class=card-img-top src=/images/vpn/wire_ovpn.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/comparativa_ovpn_wire/comparativa_ovpn_wire/ class=post-card-link><h5 class=card-title>Comparative between OpenVPN and Wireguard</h5><p class="card-text post-summary">The goal of this post is to compare the different VPNs software most used by seeing which is faster, for which we will support in speed test using iperf3.
[NOTE] The comparative part of the posts in this section in which we mount each type of VPN.
Speed without VPN I&rsquo;m gonna start by comparing the speeds of these 2 systems, using iperf3. For this I have removed the cisco router as I had it configured with FastEthernet interfaces and changed it to a Linux router with GigabitEthernet interfaces.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/wireguard/ class="btn btn-sm btn-info">WIREGUARD</a></li><li class=rounded><a href=/en/tags/openvpn/ class="btn btn-sm btn-info">OPENVPN</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 9 minutes </span><a href=/en/posts/vpn/comparativa_ovpn_wire/comparativa_ovpn_wire/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/acceso_remoto_strongswang/strongswang/ class=post-card-link><img class=card-img-top src=/images/vpn/strongswan.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/acceso_remoto_strongswang/strongswang/ class=post-card-link><h5 class=card-title>Remote access VPN with Ipsec StrongSwan</h5><p class="card-text post-summary">StrongSwan is a VPN (Virtual Private Network) implementation based on IPsec, open source, multiplatform, complete and widely used. It works on operating systems such as Linux, FreeBSD, OS X, Windows, Android and iOS. Mainly, it is a key exchange demon that supports Internet Key Exchange protocols (IKEv1 and IKEv2) to establish security associations (SA) between two pairs.
[NOTE] I will start from the VPN post remote access with OpenVPN, so you may refer to this during this article. If you want to have the same scenario go first to this.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/strongswan/ class="btn btn-sm btn-info">STRONGSWAN</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 6 minutes </span><a href=/en/posts/vpn/acceso_remoto_strongswang/strongswang/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/acceso_remoto_openvpn/accesoremoto_openvpn/ class=post-card-link><img class=card-img-top src=/images/vpn/remoteaccess.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/acceso_remoto_openvpn/accesoremoto_openvpn/ class=post-card-link><h5 class=card-title>Remote access VPN with OpenVPN and x509 certificates</h5><p class="card-text post-summary">One of the two teams (which will act as a server) will be connected to two networks For the authentication of the extremes, digital certificates shall be used, which shall be generated using openssl and stored in the / etc / openvpn directory, together with the Diffie- Helman parameters and the certificate of the Certification Authority itself. Network addresses 10.99.99.0 / 24 will be used for VPN virtual addresses. The address 10.99.99.1 shall be assigned to the VPN server. The server and client configuration files will be created in the / etc / openvpn directory of each machine, and will be called servor.conf and cliente.conf respectively. After the establishment of the VPN, the client machine must be able to access a machine on the other network to which the server is connected. Riding the stage To perform this exercise I have mounted the following scenario on GNS3:</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/openvpn/ class="btn btn-sm btn-info">OPENVPN</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 17 minutes </span><a href=/en/posts/vpn/acceso_remoto_openvpn/accesoremoto_openvpn/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/site_to_site_wireguard/site_to_site_wireguard/ class=post-card-link><img class=card-img-top src=/images/vpn/wireguard_site_to_site.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/site_to_site_wireguard/site_to_site_wireguard/ class=post-card-link><h5 class=card-title>VPN site to site Wireguard</h5><p class="card-text post-summary">[!NOTE] I will start from the VPN post remote access with Wireguard, so you may refer to this one during this article.
Key generation The first thing we will do is to install both the Wireguard package in both machines:
root@servidor1:~# sudo apt update && sudo apt install wireguard debian@servidor2:~$ sudo apt update && sudo apt install wireguard Let&rsquo;s generate the pairs of keys that will be used to encrypt the connection. We will need a key for the server and a couple of additional keys for each client.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/wireguard/ class="btn btn-sm btn-info">WIREGUARD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 5 minutes </span><a href=/en/posts/vpn/site_to_site_wireguard/site_to_site_wireguard/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/ipsec_cisco/ipsec_cisco/ class=post-card-link><img class=card-img-top src=/images/vpn/ipsec_cisco.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/ipsec_cisco/ipsec_cisco/ class=post-card-link><h5 class=card-title>VPN site to site with IPsec Cisco</h5><p class="card-text post-summary">In this post I&rsquo;m going to mount an IPSEC VPN using swan routers.
[!NOTE] This post details the configuration of R2 and R3 routers, however R1 is explained in the post of &ldquo;VPN OpenVPN remote access.&rdquo; If you want to see the configuration of the latter, look at the section preparing the stage.
# Stage configuration As I have changed stage, the 2 new routers have to be set up on the R2 and R3 network.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 6 minutes </span><a href=/en/posts/vpn/ipsec_cisco/ipsec_cisco/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class=post-card-link><img class=card-img-top src=/images/vpn/fortinet_site_to_site.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class=post-card-link><h5 class=card-title>VPN site to site with IPsec Fortinet</h5><p class="card-text post-summary">In this post I will mount an IPSEC VPN using Fortinet firewalls, for which I will visualize them on GNS3.
Stage preparation To create the VPN I will add a new Fortigate to the stage.
So let&rsquo;s proceed to set it up, the first thing will be to know the IP that the DHCP has given you:
FortiGate-VM64-KVM login: admin Password: You are forced to change your password. Please input a new password. New Password: Confirm Password: Welcome! FortiGate-VM64-KVM # get system interface physical port1 == [onboard] ==[port1] mode: dhcp ip: 192.168.122.22 255.255.255.0 ipv6: ::/0 status: up speed: 1000Mbps (Duplex: full) FEC: none FEC_cap: none This IP you&rsquo;ve given me for DHCP will be configured as static.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/fortinet/ class="btn btn-sm btn-info">FORTINET</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 3 minutes </span><a href=/en/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class=post-card-link><img class=card-img-top src=/images/vpn/sitetosite.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class=post-card-link><h5 class=card-title>VPN site to site with OpenVPN and x509 certificates</h5><p class="card-text post-summary">Riding the stage To perform this exercise I have mounted the following scenario on GNS3:
Swan router configuration Let&rsquo;s give each interface the corresponding network configuration:
#Interfaz que nos dará internet R1#configure terminal R1(config)#interface fastEthernet 0/0 R1(config-if)#ip add dhcp R1(config-if)#no shut R1(config-if)#exit #Interfaz red Servidor 1 R1(config)#interface fastEthernet 1/0 R1(config-if)#ip add 90.0.0.1 255.255.255.0 R1(config-if)#no shut R1(config-if)#exit #Interfaz red Servidor 2 R1(config)#interface fastEthernet 1/1 R1(config-if)#ip add 100.0.0.1 255.255.255.0 R1(config-if)#no shut R1(config-if)#exit #Ruta por defecto para internet R1(config)#ip route 0.0.0.0 0.0.0.0 192.168.122.1 #Guarda la configuración R1#write #Configuración de SNAT R1#conf term R1(config)#access-list 1 permit 90.0.0.0 0.0.0.255 R1(config)#access-list 1 permit 100.0.0.0 0.0.0.255 R1(config)# ip nat pool NAT-Pool 192.168.122.127 192.168.122.127 prefix-length 24 R1(config)#ip nat inside source list 1 pool NAT-Pool overload R1(config)#interface FastEthernet0/0 R1(config-if)#ip nat outside R1(config)#interface FastEthernet1/0 R1(config-if)#ip nat inside R1(config)#interface FastEthernet1/1 R1(config-if)#ip nat inside Server Configuration 1</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/openvpn/ class="btn btn-sm btn-info">OPENVPN</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 16 minutes </span><a href=/en/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/acceso_remoto_wireguard/acceso_remoto_wireguard/ class=post-card-link><img class=card-img-top src=/images/vpn/wireguard_acceso_remoto.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/acceso_remoto_wireguard/acceso_remoto_wireguard/ class=post-card-link><h5 class=card-title>VPN Wireguard remote access</h5><p class="card-text post-summary">First I will configure the server machine as a VPN remote access and server server as a VPN client. I will then set up a Windows and Android client.
The first thing we will do is to install both the Wireguard package in both machines:
root@servidor1:~# sudo apt update && sudo apt install wireguard debian@servidor2:~$ sudo apt update && sudo apt install wireguard Let&rsquo;s generate the pairs of keys that will be used to encrypt the connection. We will need a key for the server and a couple of additional keys for each client.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/wireguard/ class="btn btn-sm btn-info">WIREGUARD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 9 minutes </span><a href=/en/posts/vpn/acceso_remoto_wireguard/acceso_remoto_wireguard/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div><div class=paginator></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.29119cfdb8d2f06f4caaea7b9908096b5c109c5174eab5fca7e4e0efb0ffcaa0.js integrity="sha256-KRGc/bjS8G9Mqup7mQgJa1wQnFF06rX8p+Tg77D/yqA=" defer></script></body></html>