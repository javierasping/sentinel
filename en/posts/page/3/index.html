<!doctype html><html lang=en><head><title>Posts</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><meta property="og:url" content="https://www.javiercd.es/en/posts/"><meta property="og:site_name" content="Atlas"><meta property="og:title" content="Posts"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script>theme=localStorage.getItem("darkmode:color-scheme")||"system",theme=="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-section" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About Me</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/en#education>Education</a></li><li class=nav-item><a class=nav-link href=/en#recent-posts>Recent Posts</a></li><li class=nav-item><a class=nav-link href=/en#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="flag-icon flag-icon-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/posts><span class="flag-icon flag-icon-es"></span>
Espa√±ol
</a><a class="dropdown-item nav-link languages-item" href=/en/posts><span class="flag-icon flag-icon-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/posts data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/ci_cd/> CI / CD Jenkins</a><ul><li><a class=list-link href=/en/posts/ci_cd/practica_jenkins/ title="CI / CD practice with Jenkins">CI / CD practice with Jenkins</a></li><li><a class=list-link href=/en/posts/ci_cd/taller1_jenkins/ title="Workshop 1 Ortho-rector of markdown documents (test)">Workshop 1 Ortho-rector of markdown documents (test)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller2_jenkins/ title="Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)">Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller3_jenkins/ title="Workshop 3 Continuous integration of django application (Test)">Workshop 3 Continuous integration of django application (Test)</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/base_de_datos/> Database</a><ul><li><a class=list-link href=/en/posts/base_de_datos/instalar_mariadb/ title="Install MariaDB in Debian">Install MariaDB in Debian</a></li><li><a class=list-link href=/en/posts/base_de_datos/interconexion_de_servidores/ title="Interconnection of database servers">Interconnection of database servers</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalacion_oracle_19c_debian12/ title="Oracle 19c installation under Debian 12">Oracle 19c installation under Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalar_postgresql/ title="PostgreSQL installation in Debian 12">PostgreSQL installation in Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/oracle_acceso_remoto/ title="Remote access configuration in Oracle">Remote access configuration in Oracle</a></li><li><a class=list-link href=/en/posts/base_de_datos/acceso_remoto_mariadb/ title="Remote access in MariaDB">Remote access in MariaDB</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/docker/> Docker</a><ul><li><a class=list-link href=/en/posts/docker/instalar_docker_compose/ title="Docker Compose Installation on Ubuntu 24">Docker Compose Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/instalar_docker_ubuntu24/ title="Docker Installation on Ubuntu 24">Docker Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/taller1/ title="Workshop 1 Storage and networks in Docker">Workshop 1 Storage and networks in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller2/ title="Workshop 2 Multicontainer Scenarios in Docker">Workshop 2 Multicontainer Scenarios in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller3/ title="Workshop 3 Image creation Docker">Workshop 3 Image creation Docker</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/cortafuegos/> Firewall</a><ul><li><a class=list-link href=/en/posts/cortafuegos/fortinet_cli/ title="Fortinet CLI">Fortinet CLI</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_uno/ title="Perimetral with Fortinet I">Perimetral with Fortinet I</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_dos/ title="Perimetral with Fortinet II">Perimetral with Fortinet II</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_uno/ title="Perimetral with Nftables I">Perimetral with Nftables I</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_dos/ title="Perimetral with Nftables II">Perimetral with Nftables II</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/drivers/> Linux Drivers</a><ul><li><a class=list-link href=/en/posts/drivers/nvidia_driver/ title="Drivers Nvidia">Drivers Nvidia</a></li><li><a class=list-link href=/en/posts/drivers/nvidia_optimus/ title="How to choose which graph to use on my laptop with Linux">How to choose which graph to use on my laptop with Linux</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/redes/> Networks</a><ul><li><a class=list-link href=/en/posts/redes/android_gns3/ title="Android GNS3-KVM">Android GNS3-KVM</a></li><li><a class=list-link href=/en/posts/redes/escenario_ipv6_basico/ title="Basic IPv6 scenario">Basic IPv6 scenario</a></li><li><a class=list-link href=/en/posts/redes/instalacion_wireshark_gns3/ title="GNS3 and Wireshark installation">GNS3 and Wireshark installation</a></li><li><a class=list-link href=/en/posts/redes/instalar_gns3_debian12/ title="GNS3 installation in Debian 12">GNS3 installation in Debian 12</a></li><li><a class=list-link href=/en/posts/redes/switches_gns3/ title="GNS3 switch configuration">GNS3 switch configuration</a></li><li><a class=list-link href=/en/posts/redes/tuneles_ipv6/ title="IPV6 Tunnels">IPV6 Tunnels</a></li><li><a class=list-link href=/en/posts/redes/configuracion_de_nat/ title="NAT in Cisco and Linux">NAT in Cisco and Linux</a></li><li><a class=list-link href=/en/posts/redes/comandos_de_supervision_de_redes/ title="Network monitoring commands">Network monitoring commands</a></li><li><a class=list-link href=/en/posts/redes/enroutamiento_openstack/ title="OpenStack routing">OpenStack routing</a></li><li><a class=list-link href=/en/posts/redes/arp/ title="Protocol ARP">Protocol ARP</a></li><li><a class=list-link href=/en/posts/redes/underworld/ title=Underworld>Underworld</a></li><li><a class=list-link href=/en/posts/redes/underworld_evolution/ title="Underworld evolution">Underworld evolution</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/seguridad/> Security</a><ul><li><a class=list-link href=/en/posts/seguridad/forense/ title="Forensic computer">Forensic computer</a></li><li><a class=list-link href=/en/posts/seguridad/https_autofirmado/ title=HTTPS>HTTPS</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/> Services</a><ul><li><a class=list-link href=/en/posts/servicios/apache/ title=Apache>Apache</a></li><li><a class=list-link href=/en/posts/servicios/dhcp/ title=DHCP>DHCP</a></li><li><a class=list-link href=/en/posts/servicios/dns/ title=DNS>DNS</a></li><li><a class=list-link href=/en/posts/servicios/ftp/ title=FTP>FTP</a></li><li><a class=list-link href=/en/posts/servicios/nat_iptables/ title="NAT with iptables">NAT with iptables</a></li><li><a class=list-link href=/en/posts/servicios/ssh/ title=SSH>SSH</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/> Systems</a><ul><li><a class=list-link href=/en/posts/sistemas/ad_ubuntu/ title="Active Directory in Ubuntu">Active Directory in Ubuntu</a></li><li><a class=list-link href=/en/posts/sistemas/recoleccion_logs_journald/ title="Centralized collection of logs journald">Centralized collection of logs journald</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/compilaciones_linux/> Compilations in LINUX</a><ul><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/ title="Compilation of a C-program using a Makefile">Compilation of a C-program using a Makefile</a></li><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/ title="Compilation of a kernel">Compilation of a kernel</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/ title="Creation of an automated installation system">Creation of an automated installation system</a></li><li><a class=list-link href=/en/posts/sistemas/samba_debian/ title="Install and configure samba in Debian">Install and configure samba in Debian</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/comandos_linux/> Linux Command</a><ul><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ title="Kernel parameter modification exercises">Kernel parameter modification exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/comandos_procesos/ title="Linux processes">Linux processes</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ title="Module management exercises">Module management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/gestion_de_paquetes/ title="Package management">Package management</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/empaquetadores_compresores/ title="Packaging and compressors">Packaging and compressors</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ title="Paid management exercises">Paid management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/programacion_tareas/ title="Task programming">Task programming</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/migraciones/> Migration in Linnux</a><ul><li><a class=list-link href=/en/posts/sistemas/migraciones/migracion_sistema_de_ficheros/ title="File system">File system</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/paso_de_centos_stream_8_a_centos_stream_9/ title="Migtation from CentOS stream 8 to CentOS stream 9">Migtation from CentOS stream 8 to CentOS stream 9</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/eliminacion_systemd/ title="Systemd elimination">Systemd elimination</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/transformacion_instancia_cloud/ title="Transformation instance cloud">Transformation instance cloud</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/nfs_debian/ title="NFS in Debian">NFS in Debian</a></li><li><a class=list-link href=/en/posts/sistemas/activacion_selinux/ title="SELinux activation configuration">SELinux activation configuration</a></li><li><a class=list-link href=/en/posts/sistemas/comparticion_de_directorios_en_windows/ title="Share resources in Windows">Share resources in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/ssh_windows/ title="Ssh service in Windows">Ssh service in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/almacenamiento_servidor_independiente/ title="Storage Spaces in Windows Server">Storage Spaces in Windows Server</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/vpn/> VPN</a><ul><li><a class=list-link href=/en/posts/vpn/comparativa_ovpn_wire/ title="OpenVPN and Wireguard Comparative">OpenVPN and Wireguard Comparative</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_openvpn/ title="OpenVPN remote access">OpenVPN remote access</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_strongswang/ title="Remote access Ipsec StrongSwan">Remote access Ipsec StrongSwan</a></li><li><a class=list-link href=/en/posts/vpn/ipsec_cisco/ title="Site-to-Site IPsec Cisco">Site-to-Site IPsec Cisco</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_fortinet/ title="Site-to-Site IPsec Fortinet">Site-to-Site IPsec Fortinet</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_openvpn/ title="Site-to-Site OpenVPN">Site-to-Site OpenVPN</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_wireguard/ title="Site-to-Site Wireguard">Site-to-Site Wireguard</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_wireguard/ title="Wireguard remote access">Wireguard remote access</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/iaw/> Web applications</a><ul><li><a class=list-link href=/en/posts/iaw/lamp/ title="LAMP stack installation">LAMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/lemp/ title="LEMP stack installation">LEMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/wordpress/ title="WordPress LAMP">WordPress LAMP</a></li><li><a class=list-link href=/en/posts/iaw/wordpress_lemp/ title="WordPress LEMP">WordPress LEMP</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class="content container-fluid" id=content><div class="container-fluid post-card-holder" id=post-card-holder><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class=post-card-link><img class=card-img-top src=/images/vpn/fortinet_site_to_site.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class=post-card-link><h5 class=card-title>VPN site to site with IPsec Fortinet</h5><p class="card-text post-summary">In this post I will mount an IPSEC VPN using Fortinet firewalls, for which I will visualize them on GNS3.
Stage preparation To create the VPN I will add a new Fortigate to the stage.
So let&rsquo;s proceed to set it up, the first thing will be to know the IP that the DHCP has given you:
FortiGate-VM64-KVM login: admin Password: You are forced to change your password. Please input a new password. New Password: Confirm Password: Welcome! FortiGate-VM64-KVM # get system interface physical port1 == [onboard] ==[port1] mode: dhcp ip: 192.168.122.22 255.255.255.0 ipv6: ::/0 status: up speed: 1000Mbps (Duplex: full) FEC: none FEC_cap: none This IP you&rsquo;ve given me for DHCP will be configured as static.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/fortinet/ class="btn btn-sm btn-info">FORTINET</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 3 minutes </span><a href=/en/posts/vpn/site_to_site_fortinet/site_to_site_fortinet/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class=post-card-link><img class=card-img-top src=/images/vpn/sitetosite.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class=post-card-link><h5 class=card-title>VPN site to site with OpenVPN and x509 certificates</h5><p class="card-text post-summary">Riding the stage To perform this exercise I have mounted the following scenario on GNS3:
Swan router configuration Let&rsquo;s give each interface the corresponding network configuration:
#Interfaz que nos dar√° internet R1#configure terminal R1(config)#interface fastEthernet 0/0 R1(config-if)#ip add dhcp R1(config-if)#no shut R1(config-if)#exit #Interfaz red Servidor 1 R1(config)#interface fastEthernet 1/0 R1(config-if)#ip add 90.0.0.1 255.255.255.0 R1(config-if)#no shut R1(config-if)#exit #Interfaz red Servidor 2 R1(config)#interface fastEthernet 1/1 R1(config-if)#ip add 100.0.0.1 255.255.255.0 R1(config-if)#no shut R1(config-if)#exit #Ruta por defecto para internet R1(config)#ip route 0.0.0.0 0.0.0.0 192.168.122.1 #Guarda la configuraci√≥n R1#write #Configuraci√≥n de SNAT R1#conf term R1(config)#access-list 1 permit 90.0.0.0 0.0.0.255 R1(config)#access-list 1 permit 100.0.0.0 0.0.0.255 R1(config)# ip nat pool NAT-Pool 192.168.122.127 192.168.122.127 prefix-length 24 R1(config)#ip nat inside source list 1 pool NAT-Pool overload R1(config)#interface FastEthernet0/0 R1(config-if)#ip nat outside R1(config)#interface FastEthernet1/0 R1(config-if)#ip nat inside R1(config)#interface FastEthernet1/1 R1(config-if)#ip nat inside Server Configuration 1</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/openvpn/ class="btn btn-sm btn-info">OPENVPN</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 16 minutes </span><a href=/en/posts/vpn/site_to_site_openvpn/site_to_site_openvpn/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/vpn/acceso_remoto_wireguard/acceso_remoto_wireguard/ class=post-card-link><img class=card-img-top src=/images/vpn/wireguard_acceso_remoto.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/vpn/acceso_remoto_wireguard/acceso_remoto_wireguard/ class=post-card-link><h5 class=card-title>VPN Wireguard remote access</h5><p class="card-text post-summary">First I will configure the server machine as a VPN remote access and server server as a VPN client. I will then set up a Windows and Android client.
The first thing we will do is to install both the Wireguard package in both machines:
root@servidor1:~# sudo apt update && sudo apt install wireguard debian@servidor2:~$ sudo apt update && sudo apt install wireguard Let&rsquo;s generate the pairs of keys that will be used to encrypt the connection. We will need a key for the server and a couple of additional keys for each client.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/debian/ class="btn btn-sm btn-info">DEBIAN</a></li><li class=rounded><a href=/en/tags/wireguard/ class="btn btn-sm btn-info">WIREGUARD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 28, 2024
| 9 minutes </span><a href=/en/posts/vpn/acceso_remoto_wireguard/acceso_remoto_wireguard/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/ci_cd/practica_jenkins/practica_jenkins/ class=post-card-link><img class=card-img-top src=/images/ci_cd/jenkins/practica.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/ci_cd/practica_jenkins/practica_jenkins/ class=post-card-link><h5 class=card-title>Practice CI/CD with Jenkins</h5><p class="card-text post-summary">The objective of this practice is the gradual development of a Pipeline that will perform tasks on the repository of an application.
The application we&rsquo;re going to work with will be your fork of the Django Polls application. As we have seen, this application that implements the Django tutorial has a test module.
We will build the Pipeline in several phases:
Exercise 1: Construction of a Docker image We start from the pipeline that we have developed in the Workshop 3: Continuous integration of Django application (Test), where we have automated the application test.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/jenkins/ class="btn btn-sm btn-info">Jenkins</a></li><li class=rounded><a href=/en/tags/ci/cd/ class="btn btn-sm btn-info">CI/CD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 3 minutes </span><a href=/en/posts/ci_cd/practica_jenkins/practica_jenkins/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/ci_cd/taller1_jenkins/taller1/ class=post-card-link><img class=card-img-top src=/images/ci_cd/jenkins/taller1.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/ci_cd/taller1_jenkins/taller1/ class=post-card-link><h5 class=card-title>Workshop 1: Markdown (test)</h5><p class="card-text post-summary">Workshop 1: Ortho-rector of markdown documents (test) What do you have to deliver? The URL of your GitHub repository. https://github.com/javierasping/taller1_jenkins_ic-diccionario The content of your file &lsquo;Jenkinfle&rsquo;. pipeline { agent { docker { image 'debian' args '-u root:root' } } stages { stage('Clone') { steps { git branch:'master', url:'https://github.com/javierasping/taller1_jenkins_ic-diccionario.git' } } stage('Install') { steps { sh 'apt-get update && apt-get install -y aspell-es ' } } stage('Test') { steps { sh ''' export LC_ALL=C.UTF-8 OUTPUT=`cat doc/*.md | aspell list -d es -p ./.aspell.es.pws` if [ -n "$OUTPUT" ]; then echo $OUTPUT exit 1 fi ''' } } } post { always { mail to: 'javierasping@gmail.com', subject: "Status of pipeline: ${currentBuild.fullDisplayName}", body: "${env.BUILD_URL} has result ${currentBuild.result}" } } } A screenshot where you see the pipeline trigger configuration.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/jenkis/ class="btn btn-sm btn-info">Jenkis</a></li><li class=rounded><a href=/en/tags/ci/cd/ class="btn btn-sm btn-info">CI/CD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 1 minute </span><a href=/en/posts/ci_cd/taller1_jenkins/taller1/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/docker/taller1/taller1_docker/ class=post-card-link><img class=card-img-top src=/images/docker/taller1.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/docker/taller1/taller1_docker/ class=post-card-link><h5 class=card-title>Workshop 1: Storage and Networks in Docker</h5><p class="card-text post-summary">Workshop 1: Storage and Networks in Docker Storage Let&rsquo;s work with Docker volumes:
Create a Docker volume called &ldquo;miweb&rdquo;:
docker volume create miweb Create a container from the image php:7.4-apache, mounting the Docker volume in /var/www/html (the DocumentRoot of the server):
docker run -d --name my-apache-app -v miweb:/var/www/html -p 8080:80 php:7.4-apache Use the docker cp command to copy an index.html file (with your name) into /var/www/html:
echo "&lt;h1>Javier Cruces&lt;/h1>" > index.html docker cp index.html my-apache-app:/var/www/html/ Access the container from the browser to check the index.html file:</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/docker/ class="btn btn-sm btn-info">Docker</a></li><li class=rounded><a href=/en/tags/kubernetes/ class="btn btn-sm btn-info">Kubernetes</a></li><li class=rounded><a href=/en/tags/contenedores/ class="btn btn-sm btn-info">Contenedores</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 2 minutes </span><a href=/en/posts/docker/taller1/taller1_docker/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/docker/taller2/taller2_docker/ class=post-card-link><img class=card-img-top src=/images/docker/taller2.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/docker/taller2/taller2_docker/ class=post-card-link><h5 class=card-title>Workshop 2: Multicontainer Scenarios in Docker</h5><p class="card-text post-summary">Workshop 2: Multicontainer Scenarios in Docker Nextcloud deployment We will deploy the nextcloud application with a database (you can choose mariadb or PostgreSQL) using the docker-compose application. You can take as model the file &lsquo;docker-compose.yml&rsquo; that we have studied to display WordPress.
Install docker- compose on your computer. Within a directory creates a &lsquo;docker-composer.yml&rsquo; file for the deployment of nextcloud with a database. Remember the environment variables and the persistence of information. javiercruces@docker:~/taller2$ cat docker-compose.yaml version: '2' volumes: nextcloud: db: services: db: image: mariadb:10.6 restart: always command: --transaction-isolation=READ-COMMITTED --log-bin=binlog --binlog-format=ROW volumes: - db:/var/lib/mysql environment: - MYSQL_ROOT_PASSWORD=root - MYSQL_PASSWORD=javiercruces - MYSQL_DATABASE=nextcloud - MYSQL_USER=nextcloud app: image: nextcloud restart: always ports: - 8081:80 links: - db volumes: - nextcloud:/var/www/html environment: - MYSQL_PASSWORD=javiercruces - MYSQL_DATABASE=nextcloud - MYSQL_USER=nextcloud - MYSQL_HOST=db Raise the stage with &lsquo;docker-compose&rsquo;. javiercruces@docker:~/taller2$ docker compose up -d [+] Running 2/2 ‚úî Container taller2-db-1 Started 0.0s ‚úî Container taller2-app-1 Started 0.0s Show the containers with &lsquo;docker-compose&rsquo;. javiercruces@docker:~/taller2$ docker compose ps NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS taller2-app-1 nextcloud "/entrypoint.sh apache2-foreground" app 7 minutes ago Up 5 minutes 0.0.0.0:8081->80/tcp, :::8081->80/tcp taller2-db-1 mariadb:10.6 "docker-entrypoint.sh --transaction-isolation=READ-COMMITTED --log-bin=binlog --binlog-format=ROW" db 7 minutes ago Up 5 minutes 3306/tcp Access the application and check that it works.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/docker/ class="btn btn-sm btn-info">Docker</a></li><li class=rounded><a href=/en/tags/kubernetes/ class="btn btn-sm btn-info">Kubernetes</a></li><li class=rounded><a href=/en/tags/contenedores/ class="btn btn-sm btn-info">Contenedores</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 2 minutes </span><a href=/en/posts/docker/taller2/taller2_docker/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/ci_cd/taller2_jenkins/taller2/ class=post-card-link><img class=card-img-top src=/images/ci_cd/jenkins/taller2.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/ci_cd/taller2_jenkins/taller2/ class=post-card-link><h5 class=card-title>Workshop 2: Valid HTML5 Check and surge.sh Deployment (Test and Deploy)</h5><p class="card-text post-summary">In this exercise, we want to deploy an HTML5 page on the service surge.sh. We also want to check if the HTML5 code is valid. These two operations‚Äîchecking if the HTML5 is valid (test) and deploying to surge.sh (deploy)‚Äîwill be automated using Jenkins (CI/CD).
Remember that the repository is https://github.com/josedom24/ic-html5.
As we saw in Example 2, to do the deployment, we need to save the token obtained from surge.sh. Let&rsquo;s see how to work with credentials in Jenkins.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/jenkins/ class="btn btn-sm btn-info">Jenkins</a></li><li class=rounded><a href=/en/tags/ci/cd/ class="btn btn-sm btn-info">CI/CD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 2 minutes </span><a href=/en/posts/ci_cd/taller2_jenkins/taller2/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/ci_cd/taller3_jenkins/taller3/ class=post-card-link><img class=card-img-top src=/images/ci_cd/jenkins/taller3.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/ci_cd/taller3_jenkins/taller3/ class=post-card-link><h5 class=card-title>Workshop 3: Continuous Integration of Django Application (Test)</h5><p class="card-text post-summary">We will work with the application repository django_tutorial. This application has a series of tests defined, which can be studied in the tests.py file in the polls directory.
Each test is defined by a function. In the file, you can read the comments to understand what each test is checking, or you can refer to the document Tests in the Django tutorial application.
To run the tests, execute:
python3 manage.py test At this moment, a temporary database is created where the defined tests are executed:</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/jenkins/ class="btn btn-sm btn-info">Jenkins</a></li><li class=rounded><a href=/en/tags/ci/cd/ class="btn btn-sm btn-info">CI/CD</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 3 minutes </span><a href=/en/posts/ci_cd/taller3_jenkins/taller3/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/docker/taller3/taller3_docker/ class=post-card-link><img class=card-img-top src=/images/docker/taller3.png alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/docker/taller3/taller3_docker/ class=post-card-link><h5 class=card-title>Workshop 3: Docker Imaging</h5><p class="card-text post-summary">Workshop 3: Docker Image Creation Creating an image from a Dockerfile
1.Create a static website (e.g. search for an HTML5 template). Or just create an index.htm ml.
Create a Dockerfile file to create an image with a web server by serving the page. You can use a debian or ubuntu base image, or an image that already has a web service, as we have seen in Example 1: Image construction with a static page. javiercruces@docker:~/taller3$ cat Dockerfile #syntax=docker/dockerfile:1 FROM httpd:2.4 COPY ./public_html/ /usr/local/apache2/htdocs/ EXPOSE 80 Run the docker command that creates the new image. The image should be called my_server_web:v1. javiercruces@docker:~/taller3$ docker build -t javiersaping/mi_servidor_web:v1 . Sending build context to Docker daemon 3.584kB Step 1/3 : FROM httpd:2.4 ---> 92fa43a2ff60 Step 2/3 : COPY ./public_html/ /usr/local/apache2/htdocs/ ---> b03556dd59b6 Step 3/3 : EXPOSE 80 ---> Running in 1cc04e1deee4 Removing intermediate container 1cc04e1deee4 ---> 3078183767ef Successfully built 3078183767ef Successfully tagged javiersaping/mi_servidor_web:v1 javiercruces@docker:~/taller3$ docker run -d -p 8081:80 javiersaping/mi_servidor_web:v1 2a753adcd098c49b7b215b7c97267a09e09194303bee131150765222a4295dea</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/docker/ class="btn btn-sm btn-info">Docker</a></li><li class=rounded><a href=/en/tags/kubernetes/ class="btn btn-sm btn-info">Kubernetes</a></li><li class=rounded><a href=/en/tags/contenedores/ class="btn btn-sm btn-info">Contenedores</a></li></ul></div></div><div class=card-footer><span class=float-start>Thursday, March 14, 2024
| 3 minutes </span><a href=/en/posts/docker/taller3/taller3_docker/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/compilacion_de_un_programa_en_c_utilizando_un_makefile/ class=post-card-link><img class=card-img-top src=/images/sistemas/compilacion_de_un_programa_en_c/compilacion_de_un_programa_en_c.jpg alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/compilacion_de_un_programa_en_c_utilizando_un_makefile/ class=post-card-link><h5 class=card-title>Compilation of a C-program using a Makefile</h5><p class="card-text post-summary">Introduction The compilation of programs in programming language C is a fundamental process in software development. It allows the source code written by the programmers to be translated into computer-friendly instructions. One of the challenges associated with the compilation is the efficient management of the project files and units, which becomes even more crucial when working on large and complex projects.
This work aims to explore one of the most used mechanisms to compile projects in C: the use of a Makefile file. A Makefile is a configuration file that describes how to compile the source files of a project and how to manage the units between them. In addition, it allows to automate the compilation process and facilitates the task of maintaining and updating the code.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/en/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/en/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>Wednesday, November 29, 2023
| 4 minutes </span><a href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/compilacion_de_un_programa_en_c_utilizando_un_makefile/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div><div class=post-card><div class=card><div class=card-head><a href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/compilacion_de_un_kernel/ class=post-card-link><img class=card-img-top src=/images/sistemas/compilacion_de_un_kernel/compilacion_de_un_kernel.jpg alt="Hero Image"></a></div><div class=card-body><a href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/compilacion_de_un_kernel/ class=post-card-link><h5 class=card-title>Compilation of a kernel</h5><p class="card-text post-summary">Introduction For the practice I will choose the kernel 6.4.4 that I have downloaded from the backports repository:
To download the source code we will use apt source:
It will create us a directory with the source code
If we list the contents of the directory with the source code, we will see that the structure is the same as to compile a package in C.</p></a><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/sistemas/ class="btn btn-sm btn-info">Sistemas</a></li><li class=rounded><a href=/en/tags/iso/ class="btn btn-sm btn-info">ISO</a></li><li class=rounded><a href=/en/tags/aso/ class="btn btn-sm btn-info">ASO</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">Linux</a></li></ul></div></div><div class=card-footer><span class=float-start>Wednesday, November 29, 2023
| 4 minutes </span><a href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/compilacion_de_un_kernel/ class="float-end btn btn-outline-info btn-sm">Read</a></div></div></div></div><div class=paginator><ul class="pagination pagination-default"><li class=page-item><a href=/en/posts/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/en/posts/page/2/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/en/posts/ aria-label="Page 1" class=page-link role=button>1</a></li><li class=page-item><a href=/en/posts/page/2/ aria-label="Page 2" class=page-link role=button>2</a></li><li class="page-item active"><a aria-current=page aria-label="Page 3" class=page-link role=button>3</a></li><li class=page-item><a href=/en/posts/page/4/ aria-label="Page 4" class=page-link role=button>4</a></li><li class=page-item><a href=/en/posts/page/5/ aria-label="Page 5" class=page-link role=button>5</a></li><li class=page-item><a href=/en/posts/page/4/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/en/posts/page/7/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">¬© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.b6e81adc7ec7b607dcd44cb550d5ac0e8aa374ad64c95daf8eddf470660f2331.js integrity="sha256-tuga3H7Htgfc1Ey1UNWsDoqjdK1kyV2vjt30cGYPIzE=" defer></script></body></html>