<!doctype html><html lang=en><head><title>VPN site to site with IPsec Cisco</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><meta property="og:title" content="Atlas"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio and personal blog of Francisco Javier Cruces Doval"><meta property="og:image" content="/images/author/john.png"><meta property="og:url" content="https://www.javiercd.es"><meta name=description content="VPN site to site with IPsec Cisco"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About Me</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/en#education>Education</a></li><li class=nav-item><a class=nav-link href=/en#recent-posts>Recent Posts</a></li><li class=nav-item><a class=nav-link href=/en#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/posts/vpn/ipsec_cisco/ipsec_cisco><span class="fi fi-es"></span>
Español
</a><a class="dropdown-item nav-link languages-item" href=/en/posts/vpn/ipsec_cisco/ipsec_cisco><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/ci_cd/> CI / CD Jenkins</a><ul><li><a class=list-link href=/en/posts/ci_cd/practica_jenkins/ title="CI / CD practice with Jenkins">CI / CD practice with Jenkins</a></li><li><a class=list-link href=/en/posts/ci_cd/taller1_jenkins/ title="Workshop 1 Ortho-rector of markdown documents (test)">Workshop 1 Ortho-rector of markdown documents (test)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller2_jenkins/ title="Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)">Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller3_jenkins/ title="Workshop 3 Continuous integration of django application (Test)">Workshop 3 Continuous integration of django application (Test)</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/base_de_datos/> Database</a><ul><li><a class=list-link href=/en/posts/base_de_datos/instalar_mariadb/ title="Install MariaDB in Debian">Install MariaDB in Debian</a></li><li><a class=list-link href=/en/posts/base_de_datos/interconexion_de_servidores/ title="Interconnection of database servers">Interconnection of database servers</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalacion_oracle_19c_debian12/ title="Oracle 19c installation under Debian 12">Oracle 19c installation under Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalar_postgresql/ title="PostgreSQL installation in Debian 12">PostgreSQL installation in Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/oracle_acceso_remoto/ title="Remote access configuration in Oracle">Remote access configuration in Oracle</a></li><li><a class=list-link href=/en/posts/base_de_datos/acceso_remoto_mariadb/ title="Remote access in MariaDB">Remote access in MariaDB</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/docker/> Docker</a><ul><li><a class=list-link href=/en/posts/docker/instalar_docker_compose/ title="Docker Compose Installation on Ubuntu 24">Docker Compose Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/instalar_docker_ubuntu24/ title="Docker Installation on Ubuntu 24">Docker Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/taller1/ title="Workshop 1 Storage and networks in Docker">Workshop 1 Storage and networks in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller2/ title="Workshop 2 Multicontainer Scenarios in Docker">Workshop 2 Multicontainer Scenarios in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller3/ title="Workshop 3 Image creation Docker">Workshop 3 Image creation Docker</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/cortafuegos/> Firewall</a><ul><li><a class=list-link href=/en/posts/cortafuegos/fortinet_cli/ title="Fortinet CLI">Fortinet CLI</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_uno/ title="Perimetral with Fortinet I">Perimetral with Fortinet I</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_dos/ title="Perimetral with Fortinet II">Perimetral with Fortinet II</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_uno/ title="Perimetral with Nftables I">Perimetral with Nftables I</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_dos/ title="Perimetral with Nftables II">Perimetral with Nftables II</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/drivers/> Linux Drivers</a><ul><li><a class=list-link href=/en/posts/drivers/nvidia_driver/ title="Drivers Nvidia">Drivers Nvidia</a></li><li><a class=list-link href=/en/posts/drivers/nvidia_optimus/ title="How to choose which graph to use on my laptop with Linux">How to choose which graph to use on my laptop with Linux</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/redes/> Networks</a><ul><li><a class=list-link href=/en/posts/redes/android_gns3/ title="Android GNS3-KVM">Android GNS3-KVM</a></li><li><a class=list-link href=/en/posts/redes/escenario_ipv6_basico/ title="Basic IPv6 scenario">Basic IPv6 scenario</a></li><li><a class=list-link href=/en/posts/redes/instalacion_wireshark_gns3/ title="GNS3 and Wireshark installation">GNS3 and Wireshark installation</a></li><li><a class=list-link href=/en/posts/redes/instalar_gns3_debian12/ title="GNS3 installation in Debian 12">GNS3 installation in Debian 12</a></li><li><a class=list-link href=/en/posts/redes/switches_gns3/ title="GNS3 switch configuration">GNS3 switch configuration</a></li><li><a class=list-link href=/en/posts/redes/tuneles_ipv6/ title="IPV6 Tunnels">IPV6 Tunnels</a></li><li><a class=list-link href=/en/posts/redes/configuracion_de_nat/ title="NAT in Cisco and Linux">NAT in Cisco and Linux</a></li><li><a class=list-link href=/en/posts/redes/comandos_de_supervision_de_redes/ title="Network monitoring commands">Network monitoring commands</a></li><li><a class=list-link href=/en/posts/redes/enroutamiento_openstack/ title="OpenStack routing">OpenStack routing</a></li><li><a class=list-link href=/en/posts/redes/arp/ title="Protocol ARP">Protocol ARP</a></li><li><a class=list-link href=/en/posts/redes/underworld/ title=Underworld>Underworld</a></li><li><a class=list-link href=/en/posts/redes/underworld_evolution/ title="Underworld evolution">Underworld evolution</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/seguridad/> Security</a><ul><li><a class=list-link href=/en/posts/seguridad/forense/ title="Forensic computer">Forensic computer</a></li><li><a class=list-link href=/en/posts/seguridad/https_autofirmado/ title=HTTPS>HTTPS</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/> Services</a><ul><li><a class=list-link href=/en/posts/servicios/apache/ title=Apache>Apache</a></li><li><a class=list-link href=/en/posts/servicios/dhcp/ title=DHCP>DHCP</a></li><li><a class=list-link href=/en/posts/servicios/dns/ title=DNS>DNS</a></li><li><a class=list-link href=/en/posts/servicios/ftp/ title=FTP>FTP</a></li><li><a class=list-link href=/en/posts/servicios/nat_iptables/ title="NAT with iptables">NAT with iptables</a></li><li><a class=list-link href=/en/posts/servicios/ssh/ title=SSH>SSH</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/> Systems</a><ul><li><a class=list-link href=/en/posts/sistemas/ad_ubuntu/ title="Active Directory in Ubuntu">Active Directory in Ubuntu</a></li><li><a class=list-link href=/en/posts/sistemas/recoleccion_logs_journald/ title="Centralized collection of logs journald">Centralized collection of logs journald</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/compilaciones_linux/> Compilations in LINUX</a><ul><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/ title="Compilation of a C-program using a Makefile">Compilation of a C-program using a Makefile</a></li><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/ title="Compilation of a kernel">Compilation of a kernel</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/ title="Creation of an automated installation system">Creation of an automated installation system</a></li><li><a class=list-link href=/en/posts/sistemas/samba_debian/ title="Install and configure samba in Debian">Install and configure samba in Debian</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/comandos_linux/> Linux Command</a><ul><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ title="Kernel parameter modification exercises">Kernel parameter modification exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/comandos_procesos/ title="Linux processes">Linux processes</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ title="Module management exercises">Module management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/gestion_de_paquetes/ title="Package management">Package management</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/empaquetadores_compresores/ title="Packaging and compressors">Packaging and compressors</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ title="Paid management exercises">Paid management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/programacion_tareas/ title="Task programming">Task programming</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/migraciones/> Migration in Linnux</a><ul><li><a class=list-link href=/en/posts/sistemas/migraciones/migracion_sistema_de_ficheros/ title="File system">File system</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/paso_de_centos_stream_8_a_centos_stream_9/ title="Migtation from CentOS stream 8 to CentOS stream 9">Migtation from CentOS stream 8 to CentOS stream 9</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/eliminacion_systemd/ title="Systemd elimination">Systemd elimination</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/transformacion_instancia_cloud/ title="Transformation instance cloud">Transformation instance cloud</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/nfs_debian/ title="NFS in Debian">NFS in Debian</a></li><li><a class=list-link href=/en/posts/sistemas/activacion_selinux/ title="SELinux activation configuration">SELinux activation configuration</a></li><li><a class=list-link href=/en/posts/sistemas/comparticion_de_directorios_en_windows/ title="Share resources in Windows">Share resources in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/ssh_windows/ title="Ssh service in Windows">Ssh service in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/almacenamiento_servidor_independiente/ title="Storage Spaces in Windows Server">Storage Spaces in Windows Server</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/en/posts/vpn/> VPN</a><ul class=active><li><a class=list-link href=/en/posts/vpn/comparativa_ovpn_wire/ title="OpenVPN and Wireguard Comparative">OpenVPN and Wireguard Comparative</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_openvpn/ title="OpenVPN remote access">OpenVPN remote access</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_strongswang/ title="Remote access Ipsec StrongSwan">Remote access Ipsec StrongSwan</a></li><li><a class="active list-link" href=/en/posts/vpn/ipsec_cisco/ title="Site-to-Site IPsec Cisco">Site-to-Site IPsec Cisco</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_fortinet/ title="Site-to-Site IPsec Fortinet">Site-to-Site IPsec Fortinet</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_openvpn/ title="Site-to-Site OpenVPN">Site-to-Site OpenVPN</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_wireguard/ title="Site-to-Site Wireguard">Site-to-Site Wireguard</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_wireguard/ title="Wireguard remote access">Wireguard remote access</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/iaw/> Web applications</a><ul><li><a class=list-link href=/en/posts/iaw/lamp/ title="LAMP stack installation">LAMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/lemp/ title="LEMP stack installation">LEMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/wordpress/ title="WordPress LAMP">WordPress LAMP</a></li><li><a class=list-link href=/en/posts/iaw/wordpress_lemp/ title="WordPress LEMP">WordPress LEMP</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/vpn/ipsec_cisco.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/john_hu_2aff0fda0501496d.png alt="Author Image"><h5 class=author-name>Francisco Javier Cruces Doval</h5><p class=text-muted>Thursday, March 28, 2024 | 6 minutes</p></div><div class=title><h1>VPN site to site with IPsec Cisco</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/vpn/ class="btn btn-sm btn-info">VPN</a></li><li class=rounded><a href=/en/tags/linux/ class="btn btn-sm btn-info">LINUX</a></li><li class=rounded><a href=/en/tags/cisco/ class="btn btn-sm btn-info">CISCO</a></li></ul></div><div class=post-content id=post-content><p>In this post I&rsquo;m going to mount an IPSEC VPN using swan routers.</p><p><img src=/vpn/ipsec_cisco/img/Pastedimage20240128120659.png alt></p><blockquote><p>[!NOTE]
This post details the configuration of R2 and R3 routers, however R1 is explained in the post of &ldquo;VPN OpenVPN remote access.&rdquo; If you want to see the configuration of the latter, look at the section preparing the stage.</p></blockquote><h2 id=-stage-configuration># Stage configuration</h2><p>As I have changed stage, the 2 new routers have to be set up on the R2 and R3 network.</p><p>I&rsquo;ll start with R2:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet0/0</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e># ip address 192.168.0.1 255.255.255.0</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#no shut</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet1/0</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e># ip address 90.0.0.2 255.255.255.0</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e># no shutdown</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#ip route 0.0.0.0 0.0.0.0 90.0.0.1     </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#SNAT</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#$ ip nat pool NAT-Pool 90.0.0.2 90.0.0.2 prefix-length 24                   </span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat inside source list 1 pool NAT-Pool overload</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet0/0</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat inside</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet1/0</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat outside</span>
</span></span></code></pre></div><p>The same thing but with R3:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#Interface FastEthernet0/0</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#ip address 192.168.1.1 255.255.255.0</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#no shut</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#exit</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#Interface FastEthernet1/0           </span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#ip address 100.0.0.2 255.255.255.0  </span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#no shut                           </span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#exit       </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#ip route 0.0.0.0 0.0.0.0 100.0.0.1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat pool NAT-Pool 100.0.0.2 100.0.0.2 prefix-length 24      </span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat inside source list 1 pool NAT-Pool overload</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet0/0</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat inside</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet1/0</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e>#ip nat outside</span>
</span></span></code></pre></div><h2 id=vpn-ipsec-cisco-configuration>VPN IPSEC Cisco configuration</h2><p>Once we have the stage configured as in previous exercises but now all the routers of the stage are cisco we will proceed with the configuration of the IPSEC VPN. The ideal thing is for you to check that the stage is well routed, so as not to make this document longer I will omit it.</p><p>Router 2</p><p>Below I describe step by step the configuration to be done in R2, making use of comments I will indicate that we are doing at every moment:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#Entramos en el modo de configuración</span>
</span></span><span style=display:flex><span>R2#conf term
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos una política ISAKMP , en mi caso con un número de secuencia de 10.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#crypto isakmp policy 10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Establecemos el algoritmo de cifrado AES para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># encryption aes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuramos el algoritmo de hash SHA para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># hash sha   </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuramos la autenticación precompartida (pre-shared key) para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># authentication pre-share</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Establecemos el grupo de difie-hellman con 2048 bits para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># group 14</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuramos la clave precompartida para autenticación con el par remoto 100.0.0.2.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e>#crypto isakmp key TuClavePrecompartida address 100.0.0.2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos un conjunto de transformación para la fase 2 (IPsec) con cifrado AES y hash SHA.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#crypto ipsec transform-set myset esp-aes esp-sha-hmac </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos una lista de acceso (ACL) para especificar el tráfico a proteger con IPsec.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>cfg-crypto-trans<span style=color:#f92672>)</span><span style=color:#75715e># access-list 100 permit ip 192.168.1.0 0.0.0.255 192.168.0.0 0.0.0.255 </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos un mapa criptográfico asociado a ISAKMP e IPsec con número de secuencia 10.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#crypto map mymap 10 ipsec-isakmp</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Especificamos la dirección IP del peer remoto.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e># set peer 100.0.0.2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Asociamos el conjunto de transformación al mapa criptográfico.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e># set transform-set myset</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Asociamos la lista de acceso al mapa criptográfico para identificar el tráfico a proteger.</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e># match address 100</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Entramos a la interfaz FastEthernet1/0 (PUBLICA) y le asignamos el mapa criptografico para que envie por esta el trafico de la VPN .</span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet1/0 </span>
</span></span><span style=display:flex><span>R2<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e># crypto map mymap</span>
</span></span></code></pre></div><p>Router 3</p><p>Below I describe step by step the configuration to be done in R3, making use of comments I will indicate that we are doing at every moment:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#Entramos en el modo de configuración</span>
</span></span><span style=display:flex><span>R3#conf term
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos una política ISAKMP , en mi caso con un número de secuencia de 10.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#crypto isakmp policy 10</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Establecemos el algoritmo de cifrado AES para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># encryption aes</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuramos el algoritmo de hash SHA para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># hash sha   </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuramos la autenticación precompartida (pre-shared key) para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># authentication pre-share</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Establecemos el grupo de difie-hellman con 2048 bits para la política ISAKMP.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e># group 14</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Configuramos la clave precompartida para autenticación con el par remoto 100.0.0.2.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-isakmp<span style=color:#f92672>)</span><span style=color:#75715e>#crypto isakmp key TuClavePrecompartida address 90.0.0.2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos un conjunto de transformación para la fase 2 (IPsec) con cifrado AES y hash SHA.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#crypto ipsec transform-set myset esp-aes esp-sha-hmac </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos una lista de acceso (ACL) para especificar el tráfico a proteger con IPsec.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>cfg-crypto-trans<span style=color:#f92672>)</span><span style=color:#75715e>#access-list 100 permit ip 192.168.1.0 0.0.0.255 192.168.0.0 0.0.0.255       </span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Creamos un mapa criptográfico asociado a ISAKMP e IPsec con número de secuencia 10.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config<span style=color:#f92672>)</span><span style=color:#75715e>#crypto map mymap 10 ipsec-isakmp</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Especificamos la dirección IP del peer remoto.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e># set peer 90.0.0.2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Asociamos el conjunto de transformación al mapa criptográfico.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e># set transform-set myset</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Asociamos la lista de acceso al mapa criptográfico para identificar el tráfico a proteger.</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e># match address 100</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Entramos a la interfaz FastEthernet1/0 (PUBLICA) y le asignamos el mapa criptografico para que envie por esta el trafico de la VPN .</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-crypto-map<span style=color:#f92672>)</span><span style=color:#75715e>#interface FastEthernet1/0</span>
</span></span><span style=display:flex><span>R3<span style=color:#f92672>(</span>config-if<span style=color:#f92672>)</span><span style=color:#75715e># crypto map mymap</span>
</span></span></code></pre></div><h2 id=checks>Checks</h2><p>Once the configuration is applied we will see that at both ends the configuration is correct, seeing that the tunnels are up:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>R3#show crypto session
</span></span><span style=display:flex><span>Crypto session current status
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Interface: FastEthernet1/0
</span></span><span style=display:flex><span>Session status: UP-ACTIVE     
</span></span><span style=display:flex><span>Peer: 90.0.0.2 port <span style=color:#ae81ff>500</span> 
</span></span><span style=display:flex><span>  IKE SA: local 100.0.0.2/500 remote 90.0.0.2/500 Active 
</span></span><span style=display:flex><span>  IPSEC FLOW: permit ip 192.168.1.0/255.255.255.0 192.168.0.0/255.255.255.0 
</span></span><span style=display:flex><span>        Active SAs: 2, origin: crypto map
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>R2#show crypto session
</span></span><span style=display:flex><span>Crypto session current status
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Interface: FastEthernet1/0
</span></span><span style=display:flex><span>Session status: UP-ACTIVE     
</span></span><span style=display:flex><span>Peer: 100.0.0.2 port <span style=color:#ae81ff>500</span> 
</span></span><span style=display:flex><span>  IKE SA: local 90.0.0.2/500 remote 100.0.0.2/500 Active 
</span></span><span style=display:flex><span>  IPSEC FLOW: permit ip 192.168.0.0/255.255.255.0 192.168.1.0/255.255.255.0 
</span></span><span style=display:flex><span>        Active SAs: 2, origin: crypto map
</span></span></code></pre></div><p>By seeing this we can make sure that the VPN is up but there are more commands that provide us with different information:</p><ul><li><ul><li><ul><li>show crypto isakmp sa: * * To check the ISAKMP associations</li></ul></li></ul></li><li><ul><li><ul><li>show crypto ipsec sa: * * * * To check IPsec associations</li></ul></li></ul></li></ul><h3 id=connectivity-test>Connectivity test</h3><p>Let&rsquo;s check that the different customers of the network 192.168.0.0 can communicate with the others of the network 192.168.1.0:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#Cliente 1 --&gt; R3</span>
</span></span><span style=display:flex><span>debian@cliente1:~$ ping -c <span style=color:#ae81ff>1</span> 192.168.1.1
</span></span><span style=display:flex><span>PING 192.168.1.1 <span style=color:#f92672>(</span>192.168.1.1<span style=color:#f92672>)</span> 56<span style=color:#f92672>(</span>84<span style=color:#f92672>)</span> bytes of data.
</span></span><span style=display:flex><span><span style=color:#ae81ff>64</span> bytes from 192.168.1.1: icmp_seq<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> ttl<span style=color:#f92672>=</span><span style=color:#ae81ff>254</span> time<span style=color:#f92672>=</span>89.2 ms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>--- 192.168.1.1 ping statistics ---
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> packets transmitted, <span style=color:#ae81ff>1</span> received, 0% packet loss, time 0ms
</span></span><span style=display:flex><span>rtt min/avg/max/mdev <span style=color:#f92672>=</span> 89.167/89.167/89.167/0.000 ms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Cliente1 --&gt; Cliente 3</span>
</span></span><span style=display:flex><span>debian@cliente1:~$ ping -c <span style=color:#ae81ff>1</span> 192.168.1.2
</span></span><span style=display:flex><span>PING 192.168.1.2 <span style=color:#f92672>(</span>192.168.1.2<span style=color:#f92672>)</span> 56<span style=color:#f92672>(</span>84<span style=color:#f92672>)</span> bytes of data.
</span></span><span style=display:flex><span><span style=color:#ae81ff>64</span> bytes from 192.168.1.2: icmp_seq<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> ttl<span style=color:#f92672>=</span><span style=color:#ae81ff>62</span> time<span style=color:#f92672>=</span>46.4 ms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>--- 192.168.1.2 ping statistics ---
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> packets transmitted, <span style=color:#ae81ff>1</span> received, 0% packet loss, time 0ms
</span></span><span style=display:flex><span>rtt min/avg/max/mdev <span style=color:#f92672>=</span> 46.412/46.412/46.412/0.000 ms
</span></span></code></pre></div><p>Let&rsquo;s check that the different customers of the network 192.168.1.0 can communicate with the others of the network 192.168.0.0:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#Cliente 3 --&gt; R2</span>
</span></span><span style=display:flex><span>debian@cliente3:~$ ping -c <span style=color:#ae81ff>1</span> 192.168.0.1
</span></span><span style=display:flex><span>PING 192.168.0.1 <span style=color:#f92672>(</span>192.168.0.1<span style=color:#f92672>)</span> 56<span style=color:#f92672>(</span>84<span style=color:#f92672>)</span> bytes of data.
</span></span><span style=display:flex><span><span style=color:#ae81ff>64</span> bytes from 192.168.0.1: icmp_seq<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> ttl<span style=color:#f92672>=</span><span style=color:#ae81ff>254</span> time<span style=color:#f92672>=</span>54.4 ms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>--- 192.168.0.1 ping statistics ---
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> packets transmitted, <span style=color:#ae81ff>1</span> received, 0% packet loss, time 0ms
</span></span><span style=display:flex><span>rtt min/avg/max/mdev <span style=color:#f92672>=</span> 54.440/54.440/54.440/0.000 ms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#Cliente 3 --&gt; Cliente 1</span>
</span></span><span style=display:flex><span>debian@cliente3:~$ ping -c <span style=color:#ae81ff>1</span> 192.168.0.2
</span></span><span style=display:flex><span>PING 192.168.0.2 <span style=color:#f92672>(</span>192.168.0.2<span style=color:#f92672>)</span> 56<span style=color:#f92672>(</span>84<span style=color:#f92672>)</span> bytes of data.
</span></span><span style=display:flex><span><span style=color:#ae81ff>64</span> bytes from 192.168.0.2: icmp_seq<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> ttl<span style=color:#f92672>=</span><span style=color:#ae81ff>62</span> time<span style=color:#f92672>=</span>33.5 ms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>--- 192.168.0.2 ping statistics ---
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> packets transmitted, <span style=color:#ae81ff>1</span> received, 0% packet loss, time 0ms
</span></span><span style=display:flex><span>rtt min/avg/max/mdev <span style=color:#f92672>=</span> 33.498/33.498/33.498/0.000 ms
</span></span></code></pre></div></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvpn%2fipsec_cisco%2fipsec_cisco%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvpn%2fipsec_cisco%2fipsec_cisco%2f&text=VPN%20site%20to%20site%20with%20IPsec%20Cisco&via=Atlas" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvpn%2fipsec_cisco%2fipsec_cisco%2f&title=VPN%20site%20to%20site%20with%20IPsec%20Cisco" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvpn%2fipsec_cisco%2fipsec_cisco%2f&title=VPN%20site%20to%20site%20with%20IPsec%20Cisco" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button bg-whatsapp" href="https://api.whatsapp.com/send?text=VPN%20site%20to%20site%20with%20IPsec%20Cisco https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvpn%2fipsec_cisco%2fipsec_cisco%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn icon-button" href="mailto:?subject=VPN%20site%20to%20site%20with%20IPsec%20Cisco&body=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvpn%2fipsec_cisco%2fipsec_cisco%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/javierasping/sentinel/edit/main/content/posts/vpn/ipsec_cisco/ipsec_cisco.en.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#-stage-configuration># Stage configuration</a></li><li><a href=#vpn-ipsec-cisco-configuration>VPN IPSEC Cisco configuration</a></li><li><a href=#checks>Checks</a><ul><li><a href=#connectivity-test>Connectivity test</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.b6e81adc7ec7b607dcd44cb550d5ac0e8aa374ad64c95daf8eddf470660f2331.js integrity="sha256-tuga3H7Htgfc1Ey1UNWsDoqjdK1kyV2vjt30cGYPIzE=" defer></script></body></html>