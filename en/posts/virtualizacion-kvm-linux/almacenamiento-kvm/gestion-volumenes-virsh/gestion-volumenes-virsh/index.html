<!doctype html><html lang=en><head><title>How to manage storage volumes with virsh</title><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><meta property="og:title" content="Atlas"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio and personal blog of Francisco Javier Cruces Doval"><meta property="og:image" content="/images/author/john.png"><meta property="og:url" content="https://www.javiercd.es"><meta name=description content="Operations on volumes inside pools: list, create (vol-create-as), delete (vol-delete), clone, resize (vol-resize), vol-download, vol-upload. Behavior depends on pool type."><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About Me</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/en#education>Education</a></li><li class=nav-item><a class=nav-link href=/en#recent-posts>Recent Posts</a></li><li class=nav-item><a class=nav-link href=/en#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/posts/virtualizacion-kvm-linux/almacenamiento-kvm/gestion-volumenes-virsh/gestion-volumenes-virsh><span class="fi fi-es"></span>
Español
</a><a class="dropdown-item nav-link languages-item" href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/gestion-volumenes-virsh/gestion-volumenes-virsh><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/ci_cd/> CI / CD Jenkins</a><ul><li><a class=list-link href=/en/posts/ci_cd/practica_jenkins/ title="CI / CD practice with Jenkins">CI / CD practice with Jenkins</a></li><li><a class=list-link href=/en/posts/ci_cd/taller1_jenkins/ title="Workshop 1 Ortho-rector of markdown documents (test)">Workshop 1 Ortho-rector of markdown documents (test)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller2_jenkins/ title="Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)">Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller3_jenkins/ title="Workshop 3 Continuous integration of django application (Test)">Workshop 3 Continuous integration of django application (Test)</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/base_de_datos/> Database</a><ul><li><a class=list-link href=/en/posts/base_de_datos/instalar_mariadb/ title="Install MariaDB in Debian">Install MariaDB in Debian</a></li><li><a class=list-link href=/en/posts/base_de_datos/interconexion_de_servidores/ title="Interconnection of database servers">Interconnection of database servers</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalacion_oracle_19c_debian12/ title="Oracle 19c installation under Debian 12">Oracle 19c installation under Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalar_postgresql/ title="PostgreSQL installation in Debian 12">PostgreSQL installation in Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/oracle_acceso_remoto/ title="Remote access configuration in Oracle">Remote access configuration in Oracle</a></li><li><a class=list-link href=/en/posts/base_de_datos/acceso_remoto_mariadb/ title="Remote access in MariaDB">Remote access in MariaDB</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/docker/> Docker</a><ul><li><a class=list-link href=/en/posts/docker/instalar_docker_compose/ title="Docker Compose Installation on Ubuntu 24">Docker Compose Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/instalar_docker_ubuntu24/ title="Docker Installation on Ubuntu 24">Docker Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/taller1/ title="Workshop 1 Storage and networks in Docker">Workshop 1 Storage and networks in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller2/ title="Workshop 2 Multicontainer Scenarios in Docker">Workshop 2 Multicontainer Scenarios in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller3/ title="Workshop 3 Image creation Docker">Workshop 3 Image creation Docker</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/cortafuegos/> Firewall</a><ul><li><a class=list-link href=/en/posts/cortafuegos/fortinet_cli/ title="Fortinet CLI">Fortinet CLI</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_uno/ title="Perimetral with Fortinet I">Perimetral with Fortinet I</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_dos/ title="Perimetral with Fortinet II">Perimetral with Fortinet II</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_uno/ title="Perimetral with Nftables I">Perimetral with Nftables I</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_dos/ title="Perimetral with Nftables II">Perimetral with Nftables II</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/drivers/> Linux Drivers</a><ul><li><a class=list-link href=/en/posts/drivers/nvidia_driver/ title="Drivers Nvidia">Drivers Nvidia</a></li><li><a class=list-link href=/en/posts/drivers/nvidia_optimus/ title="How to choose which graph to use on my laptop with Linux">How to choose which graph to use on my laptop with Linux</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/redes/> Networks</a><ul><li><a class=list-link href=/en/posts/redes/android_gns3/ title="Android GNS3-KVM">Android GNS3-KVM</a></li><li><a class=list-link href=/en/posts/redes/escenario_ipv6_basico/ title="Basic IPv6 scenario">Basic IPv6 scenario</a></li><li><a class=list-link href=/en/posts/redes/instalacion_wireshark_gns3/ title="GNS3 and Wireshark installation">GNS3 and Wireshark installation</a></li><li><a class=list-link href=/en/posts/redes/instalar_gns3_debian12/ title="GNS3 installation in Debian 12">GNS3 installation in Debian 12</a></li><li><a class=list-link href=/en/posts/redes/switches_gns3/ title="GNS3 switch configuration">GNS3 switch configuration</a></li><li><a class=list-link href=/en/posts/redes/tuneles_ipv6/ title="IPV6 Tunnels">IPV6 Tunnels</a></li><li><a class=list-link href=/en/posts/redes/configuracion_de_nat/ title="NAT in Cisco and Linux">NAT in Cisco and Linux</a></li><li><a class=list-link href=/en/posts/redes/comandos_de_supervision_de_redes/ title="Network monitoring commands">Network monitoring commands</a></li><li><a class=list-link href=/en/posts/redes/enroutamiento_openstack/ title="OpenStack routing">OpenStack routing</a></li><li><a class=list-link href=/en/posts/redes/arp/ title="Protocol ARP">Protocol ARP</a></li><li><a class=list-link href=/en/posts/redes/underworld/ title=Underworld>Underworld</a></li><li><a class=list-link href=/en/posts/redes/underworld_evolution/ title="Underworld evolution">Underworld evolution</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/observabilidad/> Observability</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/observabilidad/metricas/> Metrics</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/observabilidad/metricas/prometheus/> Prometheus</a><ul><li><a class=list-link href=/en/posts/observabilidad/metricas/prometheus/instalacion_basica_docker_compose/ title="Installation of Prometheus with Docker Compose and Node Exporter on Debian 12">Installation of Prometheus with Docker Compose and Node Exporter on Debian 12</a></li></ul></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/seguridad/> Security</a><ul><li><a class=list-link href=/en/posts/seguridad/forense/ title="Forensic computer">Forensic computer</a></li><li><a class=list-link href=/en/posts/seguridad/https_autofirmado/ title=HTTPS>HTTPS</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/> Services</a><ul><li><a class=list-link href=/en/posts/servicios/apache/ title=Apache>Apache</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/dhcp/> DHCP</a><ul><li><a class=list-link href=/en/posts/servicios/dhcp/instalacion_y_configuracion_de_un_servidor_dhcp_en_linux/ title="Installation and Configuration of a DHCP Server on Linux">Installation and Configuration of a DHCP Server on Linux</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/dns/> DNS</a><ul><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/dns/bind9/> BIND9</a><ul><li><a class=list-link href=/en/posts/servicios/dns/bind9/dns_esclavo/ title="Configuring a Slave DNS Server with BIND9">Configuring a Slave DNS Server with BIND9</a></li><li><a class=list-link href=/en/posts/servicios/dns/bind9/instalacion_basica/ title="Installation and Configuration of BIND9 on Linux">Installation and Configuration of BIND9 on Linux</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/servicios/dns/dnsmasq/> DNSMASQ</a><ul><li><a class=list-link href=/en/posts/servicios/dns/dnsmasq/instalacion_basica/ title="Local Server with DNSMasq">Local Server with DNSMasq</a></li></ul></li></ul></li><li><a class=list-link href=/en/posts/servicios/ftp/ title=FTP>FTP</a></li><li><a class=list-link href=/en/posts/servicios/nat_iptables/ title="NAT with iptables">NAT with iptables</a></li><li><a class=list-link href=/en/posts/servicios/ssh/ title=SSH>SSH</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/> Systems</a><ul><li><a class=list-link href=/en/posts/sistemas/ad_ubuntu/ title="Active Directory in Ubuntu">Active Directory in Ubuntu</a></li><li><a class=list-link href=/en/posts/sistemas/recoleccion_logs_journald/ title="Centralized collection of logs journald">Centralized collection of logs journald</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/compilaciones_linux/> Compilations in LINUX</a><ul><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/ title="Compilation of a C-program using a Makefile">Compilation of a C-program using a Makefile</a></li><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/ title="Compilation of a kernel">Compilation of a kernel</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/ title="Creation of an automated installation system">Creation of an automated installation system</a></li><li><a class=list-link href=/en/posts/sistemas/samba_debian/ title="Install and configure samba in Debian">Install and configure samba in Debian</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/comandos_linux/> Linux Command</a><ul><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ title="Kernel parameter modification exercises">Kernel parameter modification exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/comandos_procesos/ title="Linux processes">Linux processes</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ title="Module management exercises">Module management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/gestion_de_paquetes/ title="Package management">Package management</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/empaquetadores_compresores/ title="Packaging and compressors">Packaging and compressors</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ title="Paid management exercises">Paid management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/programacion_tareas/ title="Task programming">Task programming</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/migraciones/> Migration in Linnux</a><ul><li><a class=list-link href=/en/posts/sistemas/migraciones/migracion_sistema_de_ficheros/ title="File system">File system</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/paso_de_centos_stream_8_a_centos_stream_9/ title="Migtation from CentOS stream 8 to CentOS stream 9">Migtation from CentOS stream 8 to CentOS stream 9</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/eliminacion_systemd/ title="Systemd elimination">Systemd elimination</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/transformacion_instancia_cloud/ title="Transformation instance cloud">Transformation instance cloud</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/nfs_debian/ title="NFS in Debian">NFS in Debian</a></li><li><a class=list-link href=/en/posts/sistemas/activacion_selinux/ title="SELinux activation configuration">SELinux activation configuration</a></li><li><a class=list-link href=/en/posts/sistemas/comparticion_de_directorios_en_windows/ title="Share resources in Windows">Share resources in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/ssh_windows/ title="Ssh service in Windows">Ssh service in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/almacenamiento_servidor_independiente/ title="Storage Spaces in Windows Server">Storage Spaces in Windows Server</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/en/posts/virtualizacion-kvm-linux/> Virtualization (KVM on Linux)</a><ul class=active><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/> Introduction to virtualization with KVM</a><ul><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/conceptos-virtualizacion/ title="Virtualization basics in Linux">Virtualization basics in Linux</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/tipo-hipervisores/ title="Types of hypervisors">Types of hypervisors</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/introduccion-kvm/arquitectura-kvm/ title="KVM architecture and operation">KVM architecture and operation</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/virtualizacion-kvm-linux/instalacion-kvm/> Installation and configuration</a><ul><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/instalacion-kvm/instalar-kvm-libvirt/ title="Install KVM and libvirt">Install KVM and libvirt</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/instalacion-kvm/validar-host-kvm/ title="Validate KVM host">Validate KVM host</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/> Virtual machine management</a><ul><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/crear-vm-virtinstall/ title="Create VM with virt-install">Create VM with virt-install</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/componentes-vm/ title="VM components">VM components</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/administrar-virsh/ title="Manage with virsh">Manage with virsh</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/clonar-y-renombrar-vm/ title="Clone and rename VMs">Clone and rename VMs</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/ampliar-recursos-vm/ title="Expand VM resources">Expand VM resources</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/snapshots-kvm/ title="Snapshots in KVM">Snapshots in KVM</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/gestion-maquinas-kvm/plantilla-debian13/ title="Virtual machine templates">Virtual machine templates</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/virtualizacion-kvm-linux/redes-kvm/> Networking in KVM</a><ul><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/redes-kvm/tipos-redes-kvm/ title="Network types in KVM">Network types in KVM</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/redes-kvm/crear-redes-virtuales-privadas-kvm/ title="Create and configure private virtual networks">Create and configure private virtual networks</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/redes-kvm/crear-interfaz-puente/ title="Create bridge interface">Create bridge interface</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/> Storage in KVM</a><ul class=active><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/introduccion-almacenamiento-kvm/ title="Introduction to storage">Introduction to storage</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/gestion-pools-almacenamiento/ title="Managing pools">Managing pools</a></li><li><a class="active list-link" href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/gestion-volumenes-virsh/ title="Volumes (virsh)">Volumes (virsh)</a></li><li><a class=list-link href=/en/posts/virtualizacion-kvm-linux/almacenamiento-kvm/redimension-discos-vms/ title="Resizing disks (VMs)">Resizing disks (VMs)</a></li></ul></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/vpn/> VPN</a><ul><li><a class=list-link href=/en/posts/vpn/comparativa_ovpn_wire/ title="OpenVPN and Wireguard Comparative">OpenVPN and Wireguard Comparative</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_openvpn/ title="OpenVPN remote access">OpenVPN remote access</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_strongswang/ title="Remote access Ipsec StrongSwan">Remote access Ipsec StrongSwan</a></li><li><a class=list-link href=/en/posts/vpn/ipsec_cisco/ title="Site-to-Site IPsec Cisco">Site-to-Site IPsec Cisco</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_fortinet/ title="Site-to-Site IPsec Fortinet">Site-to-Site IPsec Fortinet</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_openvpn/ title="Site-to-Site OpenVPN">Site-to-Site OpenVPN</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_wireguard/ title="Site-to-Site Wireguard">Site-to-Site Wireguard</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_wireguard/ title="Wireguard remote access">Wireguard remote access</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/iaw/> Web applications</a><ul><li><a class=list-link href=/en/posts/iaw/lamp/ title="LAMP stack installation">LAMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/lemp/ title="LEMP stack installation">LEMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/wordpress/ title="WordPress LAMP">WordPress LAMP</a></li><li><a class=list-link href=/en/posts/iaw/wordpress_lemp/ title="WordPress LEMP">WordPress LEMP</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/virtualizacion-kvm-linux/almacenamiento/volumenes.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/john_hu_2aff0fda0501496d.png alt="Author Image"><h5 class=author-name>Francisco Javier Cruces Doval</h5><p class=text-muted>Saturday, October 25, 2025 | 6 minutes</p></div><div class=title><h1>How to manage storage volumes with virsh</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/kvm/ class="btn btn-sm btn-info">KVM</a></li><li class=rounded><a href=/en/tags/virtualization/ class="btn btn-sm btn-info">Virtualization</a></li><li class=rounded><a href=/en/tags/libvirt/ class="btn btn-sm btn-info">Libvirt</a></li><li class=rounded><a href=/en/tags/storage/ class="btn btn-sm btn-info">Storage</a></li><li class=rounded><a href=/en/tags/volumes/ class="btn btn-sm btn-info">Volumes</a></li></ul></div><div class=post-content id=post-content><p>Short: examples of using the libvirt API (<code>virsh vol-*</code>) to manage volumes inside storage pools and notes about backend-specific behavior.</p><h2 id=managing-storage-volumes-with-virsh>Managing storage volumes with virsh</h2><p>In this section we&rsquo;ll look at storage volume management using libvirt&rsquo;s API (the <code>virsh</code> tool). We will use pools of type <code>dir</code> (image files on disk), although many operations are applicable to other backends; differences are noted where relevant.</p><h3 id=pools-and-volumes-quick-concept>Pools and volumes: quick concept</h3><p>A &ldquo;volume&rdquo; in libvirt is the storage unit created inside a pool. In <code>dir</code> and <code>fs</code> pools volumes are files (for example <code>qcow2</code>, <code>raw</code>); in <code>logical</code> pools they are LVM logical volumes; in <code>disk</code> pools they can map to partitions; and in networked backends (Gluster, RBD, iSCSI) creation and management may require backend-specific tools.</p><h3 id=check-available-space-in-pools-pre-requisite>Check available space in pools (pre-requisite)</h3><p>Before creating volumes it&rsquo;s a good idea to verify that the pool has free space:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh pool-list --details
</span></span><span style=display:flex><span> Name      State     Autostart   Persistent   Capacity     Allocation   Available
</span></span><span style=display:flex><span>------------------------------------------------------------------------------------
</span></span><span style=display:flex><span> default   running   yes         yes          914.78 GiB   100.98 GiB   813.80 GiB
</span></span><span style=display:flex><span> isos      running   yes         yes          914.78 GiB   100.98 GiB   813.80 GiB
</span></span><span style=display:flex><span> libvirt   running   yes         yes          914.78 GiB   100.98 GiB   813.80 GiB
</span></span></code></pre></div><h3 id=get-information-about-pool-volumes>Get information about pool volumes</h3><p>To list the volumes in a pool (e.g., <code>default</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-list default
</span></span><span style=display:flex><span> Name                                   Path
</span></span><span style=display:flex><span>------------------------------------------------------------------------------------------------------
</span></span><span style=display:flex><span> debian-13.1.0-amd64-netinst.iso        /var/lib/libvirt/images/debian-13.1.0-amd64-netinst.iso
</span></span><span style=display:flex><span> debian13-base.qcow2                    /var/lib/libvirt/images/debian13-base.qcow2
</span></span><span style=display:flex><span> debian13-clonacion-completa.qcow2      /var/lib/libvirt/images/debian13-clonacion-completa.qcow2
</span></span><span style=display:flex><span> debian13-clonacion-enlazada.qcow2      /var/lib/libvirt/images/debian13-clonacion-enlazada.qcow2
</span></span><span style=display:flex><span> debian13.qcow2                         /var/lib/libvirt/images/debian13.qcow2
</span></span><span style=display:flex><span> ubuntu-24.04-vm.qcow2                  /var/lib/libvirt/images/ubuntu-24.04-vm.qcow2
</span></span><span style=display:flex><span> ...
</span></span></code></pre></div><p>If you need more details (capacity, allocation), use <code>--details</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-list default --details
</span></span><span style=display:flex><span> Name                                   Path                                                           Type   Capacity     Allocation
</span></span><span style=display:flex><span>---------------------------------------------------------------------------------------------------------------------------------------
</span></span><span style=display:flex><span> debian-13.1.0-amd64-netinst.iso        /var/lib/libvirt/images/debian-13.1.0-amd64-netinst.iso        file   783.00 MiB   783.00 MiB
</span></span><span style=display:flex><span> debian13-base.qcow2                    /var/lib/libvirt/images/debian13-base.qcow2                    file   20.00 GiB    585.61 MiB
</span></span><span style=display:flex><span> debian13-clonacion-completa.qcow2      /var/lib/libvirt/images/debian13-clonacion-completa.qcow2      file   20.00 GiB    3.04 GiB
</span></span><span style=display:flex><span> ...
</span></span></code></pre></div><p>To get information about a specific volume:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-info debian13.qcow2 default
</span></span><span style=display:flex><span>Name:           debian13.qcow2
</span></span><span style=display:flex><span>Type:           file
</span></span><span style=display:flex><span>Capacity:       20.00 GiB
</span></span><span style=display:flex><span>Allocation:     2.11 GiB
</span></span></code></pre></div><p>The volume&rsquo;s XML definition can be viewed with <code>vol-dumpxml</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-dumpxml debian13.qcow2 default
</span></span><span style=display:flex><span>&lt;volume type<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;file&#39;</span>&gt;
</span></span><span style=display:flex><span>  &lt;name&gt;debian13.qcow2&lt;/name&gt;
</span></span><span style=display:flex><span>  &lt;key&gt;/var/lib/libvirt/images/debian13.qcow2&lt;/key&gt;
</span></span><span style=display:flex><span>  &lt;capacity unit<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bytes&#39;</span>&gt;21474836480&lt;/capacity&gt;
</span></span><span style=display:flex><span>  &lt;allocation unit<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bytes&#39;</span>&gt;2265751552&lt;/allocation&gt;
</span></span><span style=display:flex><span>  &lt;target&gt;
</span></span><span style=display:flex><span>    &lt;path&gt;/var/lib/libvirt/images/debian13.qcow2&lt;/path&gt;
</span></span><span style=display:flex><span>    &lt;format type<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;qcow2&#39;</span>/&gt;
</span></span><span style=display:flex><span>    &lt;permissions&gt;
</span></span><span style=display:flex><span>      &lt;mode&gt;0600&lt;/mode&gt;
</span></span><span style=display:flex><span>      &lt;owner&gt;0&lt;/owner&gt;
</span></span><span style=display:flex><span>      &lt;group&gt;0&lt;/group&gt;
</span></span><span style=display:flex><span>    &lt;/permissions&gt;
</span></span><span style=display:flex><span>  &lt;/target&gt;
</span></span><span style=display:flex><span>&lt;/volume&gt;
</span></span></code></pre></div><blockquote><p>Note: there is no <code>virsh vol-define</code> because volumes are not defined temporarily — they are created with <code>vol-create-as</code> or by <code>vol-create</code> from XML.</p></blockquote><h3 id=create-volumes-with-vol-create-as>Create volumes with <code>vol-create-as</code></h3><p>Example: create a <code>raw</code> 10G volume in the <code>default</code> pool (name: <code>vdisk-10G.img</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-create-as default vdisk-10G.img --format raw 10G
</span></span></code></pre></div><p>Check the created file (for <code>dir</code> pools the volume is a file in the pool&rsquo;s target directory, typically <code>/var/lib/libvirt/images</code> for <code>default</code>):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ sudo ls -l /var/lib/libvirt/images/
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>10485760</span>
</span></span><span style=display:flex><span>-rw------- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>10737418240</span> Oct <span style=color:#ae81ff>26</span> 00:05 vdisk-10G.img
</span></span></code></pre></div><p>If you create a <code>raw</code> volume, it will not be thin-provisioned: the file occupies the full size from creation. If you create <code>qcow2</code>, capacity is logical and physical allocation grows with use.</p><p>Example of <code>qcow2</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-create-as --pool default --format qcow2 vdisk-20G.qcow2 20G
</span></span></code></pre></div><p>You can verify the difference:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-list default --details
</span></span><span style=display:flex><span> Name                Path                                        Type   Capacity  Allocation
</span></span><span style=display:flex><span>---------------------------------------------------------------------------------------------
</span></span><span style=display:flex><span> vdisk-10G.img       /var/lib/libvirt/images/vdisk-10G.img       file   10.00 GiB  10.00 GiB
</span></span><span style=display:flex><span> vdisk-20G.qcow2     /var/lib/libvirt/images/vdisk-20G.qcow2     file   20.00 GiB  196.00 KiB
</span></span></code></pre></div><h3 id=delete-volumes>Delete volumes</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-delete vdisk-10G.img default
</span></span></code></pre></div><p>This removes the volume from the pool. For networked or LVM backends the exact effect depends on the backend (e.g., deleting an iSCSI LUN, removing an RBD image, etc.).</p><h3 id=clone-volumes>Clone volumes</h3><p>To clone a volume within the same pool:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-clone --pool default vdisk-20G.qcow2 vdisk-20G-clone.qcow2
</span></span><span style=display:flex><span>Vol vdisk-20G-clone.qcow2 cloned from vdisk-20G.qcow2
</span></span></code></pre></div><p>If the source is <code>qcow2</code> the clone will also benefit from thin provisioning.</p><h3 id=resize-volumes>Resize volumes</h3><p>To increase (or, if the backend allows, decrease) the size of a volume:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-resize --pool default vdisk-20G.qcow2 30G
</span></span></code></pre></div><p>If the volume is in use by a running VM, after resizing the volume on the host you often need to resize the partition and filesystem inside the guest. Below are examples for a simple layout where the guest has a single data partition at /dev/vda1 and uses ext4.</p><ol><li>Increase the volume (host):</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-resize --pool default vdisk-20G.qcow2 30G
</span></span></code></pre></div><ol start=2><li>Resize inside the guest (online)</li></ol><p>If the guest has <code>growpart</code> (from cloud-guest-utils) you can extend the partition and filesystem while the VM is running:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Connect to the guest (e.g. ssh javiercruces@debian13)</span>
</span></span><span style=display:flex><span>javiercruces@debian13:~$ sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt install -y cloud-guest-utils
</span></span><span style=display:flex><span>javiercruces@debian13:~$ sudo growpart /dev/vda <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>javiercruces@debian13:~$ sudo resize2fs /dev/vda1
</span></span></code></pre></div><p>Quick notes:</p><ul><li><code>growpart /dev/vda 1</code> grows the first partition of <code>/dev/vda</code> to use the added space.</li><li><code>resize2fs /dev/vda1</code> expands the ext4 filesystem to fill the partition.</li></ul><ol start=3><li>Alternative using <code>parted</code> (online)</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@debian13:~$ sudo apt install -y parted
</span></span><span style=display:flex><span>javiercruces@debian13:~$ sudo parted /dev/vda --script resizepart <span style=color:#ae81ff>1</span> 100%
</span></span><span style=display:flex><span>javiercruces@debian13:~$ sudo resize2fs /dev/vda1
</span></span></code></pre></div><h3 id=download-and-upload-volume-content-vol-download--vol-upload>Download and upload volume content (vol-download / vol-upload)</h3><p>Download the content of a volume to a local file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-download --pool default vdisk-20G.qcow2 /tmp/vdisk-20G.qcow2
</span></span></code></pre></div><p>Upload content from a local file to a volume (overwrite):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh vol-upload --pool default vdisk-20G.qcow2 /tmp/vdisk-20G.qcow2
</span></span></code></pre></div><p>These operations can be slow for large files; often <code>qemu-img convert</code> or backend-specific tools (rbd, gluster) are more efficient.</p><h3 id=limitations-by-pool-type>Limitations by pool type</h3><ul><li><code>dir</code>/<code>fs</code> (files): <code>vol-create-as</code>, <code>vol-clone</code>, <code>vol-delete</code>, <code>vol-resize</code>, <code>vol-download</code> and <code>vol-upload</code> work naturally.</li><li><code>logical</code> (LVM): <code>vol-create-as</code> can create LVM volumes if libvirt/config allows; alternatively create LVs with <code>lvcreate</code> and then define the volume.</li><li><code>disk</code> (partitions): <code>vol-create-as</code> may create partitions on a physical device — be careful and backup.</li><li><code>iscsi</code>/<code>multipath</code>/<code>vHBA</code>: typically managed externally (iSCSI server, multipathd, SAN admin). Not all <code>virsh vol-*</code> commands apply.</li><li><code>gluster</code>/<code>rbd</code>: sometimes you must use <code>qemu-img</code> or backend tools to create/manage images.</li></ul><h3 id=assign-a-volume-as-a-disk-to-a-vm-xml-example>Assign a volume as a disk to a VM (XML example)</h3><p>You can attach a volume to a VM directly from the host without creating an XML file by using <code>attach-disk</code>. Examples:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ <span style=color:#75715e># Attach live</span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh attach-disk testguest1 /var/lib/libvirt/images/vdisk-20G.qcow2 vdb --live
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ <span style=color:#75715e># Attach persistently to the VM configuration</span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh attach-disk --config testguest1 /var/lib/libvirt/images/vdisk-20G.qcow2 vdb
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ <span style=color:#75715e># Attach live and persistent</span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh attach-disk --live --config testguest1 /var/lib/libvirt/images/vdisk-20G.qcow2 vdb
</span></span></code></pre></div><p>Notes and explanation:</p><ul><li><code>attach-disk</code> takes the host-side image path (or pool device) and the target device name inside the guest (e.g., <code>vdb</code>).</li><li><code>--live</code> makes the change on a running VM; <code>--config</code> writes the entry into the VM config so it survives reboots. Combine them when you want both.</li><li>Use this approach when you know the image path and the guest device name; it&rsquo;s the most direct for simple cases.</li></ul><p>Alternative: attach using an XML fragment</p><p>If you need more control (advanced attributes), create a small XML fragment and use <code>attach-device</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;disk</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#39;volume&#39;</span> <span style=color:#a6e22e>device=</span><span style=color:#e6db74>&#39;disk&#39;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;driver</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#39;qemu&#39;</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#39;qcow2&#39;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;source</span> <span style=color:#a6e22e>pool=</span><span style=color:#e6db74>&#39;default&#39;</span> <span style=color:#a6e22e>volume=</span><span style=color:#e6db74>&#39;vdisk-20G.qcow2&#39;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;target</span> <span style=color:#a6e22e>dev=</span><span style=color:#e6db74>&#39;vdb&#39;</span> <span style=color:#a6e22e>bus=</span><span style=color:#e6db74>&#39;virtio&#39;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/disk&gt;</span>
</span></span></code></pre></div><p>Then attach persistently:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh attach-device --config testguest1 ~/vdisk-20G.xml
</span></span></code></pre></div><p>The XML varies by pool type; for simple attach operations <code>attach-disk</code> is usually easier.</p><p>Detach a disk by device name</p><p>To remove a disk by its target name (no XML):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh detach-disk testguest1 vdb
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ <span style=color:#75715e># To also remove the persistent entry:</span>
</span></span><span style=display:flex><span>javiercruces@FJCD-PC:~$ virsh detach-disk --config testguest1 vdb
</span></span></code></pre></div><h3 id=best-practices-and-recommendations>Best practices and recommendations</h3><ul><li>Always check <code>virsh pool-list --details</code> before creating volumes to ensure there is available space.</li><li>Take snapshots or backups before resizing or cloning volumes that contain critical data.</li><li>For bulk or automated operations prefer <code>qemu-img</code> or native backend tools when the pool does not fully support <code>vol-create-as</code>.</li><li>Manage permissions and ownership of files in <code>dir</code> pools to avoid startup errors when VMs try to access the files (see <code>chown</code>/<code>chmod</code> guidance in other posts).</li></ul><h3 id=references>References</h3><ul><li><a href=https://github.com/josedom24/curso_virtualizacion_linux target=_blank rel=noopener>curso_virtualizacion_linux — GitHub</a></li><li><a href=https://libvirt.org/storage.html target=_blank rel=noopener>Official libvirt documentation: Storage pool and volume XML format</a></li><li><a href=https://libvirt.org/manpages/virsh.html target=_blank rel=noopener>virsh manpage / vol-* commands</a></li></ul></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvirtualizacion-kvm-linux%2falmacenamiento-kvm%2fgestion-volumenes-virsh%2fgestion-volumenes-virsh%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvirtualizacion-kvm-linux%2falmacenamiento-kvm%2fgestion-volumenes-virsh%2fgestion-volumenes-virsh%2f&text=How%20to%20manage%20storage%20volumes%20with%20virsh&via=Atlas" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvirtualizacion-kvm-linux%2falmacenamiento-kvm%2fgestion-volumenes-virsh%2fgestion-volumenes-virsh%2f&title=How%20to%20manage%20storage%20volumes%20with%20virsh" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvirtualizacion-kvm-linux%2falmacenamiento-kvm%2fgestion-volumenes-virsh%2fgestion-volumenes-virsh%2f&title=How%20to%20manage%20storage%20volumes%20with%20virsh" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button bg-whatsapp" href="https://api.whatsapp.com/send?text=How%20to%20manage%20storage%20volumes%20with%20virsh https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvirtualizacion-kvm-linux%2falmacenamiento-kvm%2fgestion-volumenes-virsh%2fgestion-volumenes-virsh%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn icon-button" href="mailto:?subject=How%20to%20manage%20storage%20volumes%20with%20virsh&body=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fvirtualizacion-kvm-linux%2falmacenamiento-kvm%2fgestion-volumenes-virsh%2fgestion-volumenes-virsh%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/javierasping/sentinel/edit/main/content/posts/virtualizacion-kvm-linux/almacenamiento-kvm/gestion-volumenes-virsh/gestion-volumenes-virsh.en.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#managing-storage-volumes-with-virsh>Managing storage volumes with virsh</a><ul><li><a href=#pools-and-volumes-quick-concept>Pools and volumes: quick concept</a></li><li><a href=#check-available-space-in-pools-pre-requisite>Check available space in pools (pre-requisite)</a></li><li><a href=#get-information-about-pool-volumes>Get information about pool volumes</a></li><li><a href=#create-volumes-with-vol-create-as>Create volumes with <code>vol-create-as</code></a></li><li><a href=#delete-volumes>Delete volumes</a></li><li><a href=#clone-volumes>Clone volumes</a></li><li><a href=#resize-volumes>Resize volumes</a></li><li><a href=#download-and-upload-volume-content-vol-download--vol-upload>Download and upload volume content (vol-download / vol-upload)</a></li><li><a href=#limitations-by-pool-type>Limitations by pool type</a></li><li><a href=#assign-a-volume-as-a-disk-to-a-vm-xml-example>Assign a volume as a disk to a VM (XML example)</a></li><li><a href=#best-practices-and-recommendations>Best practices and recommendations</a></li><li><a href=#references>References</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.88e12b83fd69c92e719c3aa554a42e6d0f20fb72d76bd329f31250ef3bd11899.js integrity="sha256-iOErg/1pyS5xnDqlVKQubQ8g+3LXa9Mp8xJQ7zvRGJk=" defer></script></body></html>