<!doctype html><html lang=en><head><title>DNS server configuration in Debian</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.ddf4c4775d35e5bc3dd64c797b179f99eaf85cf9811e64bd08f8c44a68d0b229.css integrity="sha256-3fTEd1015bw91kx5exefmer4XPmBHmS9CPjESmjQsik="><link rel=icon type=image/png href=/images/site/avatar_hu_f10227dc088ad43a.jpg><meta property="og:title" content="Atlas"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio and personal blog of Francisco Javier Cruces Doval"><meta property="og:image" content="/images/author/john.png"><meta property="og:url" content="https://www.javiercd.es"><meta name=description content="DNS server configuration in our basic scenario under debian 10"><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GVDYVWJLRH"></script><script>var dnt,doNotTrack=!1;if(null&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVDYVWJLRH")}</script><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/en><img src=/images/site/masthead_hu_f10227dc088ad43a.png id=logo alt=Logo>
Atlas</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/en#home>Home</a></li><li class=nav-item><a class=nav-link href=/en#about>About Me</a></li><li class=nav-item><a class=nav-link href=/en#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/en#education>Education</a></li><li class=nav-item><a class=nav-link href=/en#recent-posts>Recent Posts</a></li><li class=nav-item><a class=nav-link href=/en#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/en/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=languageSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><span class="fi fi-gb"></span>
English</a><div class=dropdown-menu aria-labelledby=languageSelector><a class="dropdown-item nav-link languages-item" href=/posts/servicios/dns/dns><span class="fi fi-es"></span>
Español
</a><a class="dropdown-item nav-link languages-item" href=/en/posts/servicios/dns/dns><span class="fi fi-gb"></span>
English</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/masthead_hu_f10227dc088ad43a.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/en/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/en/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/ci_cd/> CI / CD Jenkins</a><ul><li><a class=list-link href=/en/posts/ci_cd/practica_jenkins/ title="CI / CD practice with Jenkins">CI / CD practice with Jenkins</a></li><li><a class=list-link href=/en/posts/ci_cd/taller1_jenkins/ title="Workshop 1 Ortho-rector of markdown documents (test)">Workshop 1 Ortho-rector of markdown documents (test)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller2_jenkins/ title="Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)">Workshop 2 Valid HTML5 check and surge.sh deployment (test and deploy)</a></li><li><a class=list-link href=/en/posts/ci_cd/taller3_jenkins/ title="Workshop 3 Continuous integration of django application (Test)">Workshop 3 Continuous integration of django application (Test)</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/base_de_datos/> Database</a><ul><li><a class=list-link href=/en/posts/base_de_datos/instalar_mariadb/ title="Install MariaDB in Debian">Install MariaDB in Debian</a></li><li><a class=list-link href=/en/posts/base_de_datos/interconexion_de_servidores/ title="Interconnection of database servers">Interconnection of database servers</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalacion_oracle_19c_debian12/ title="Oracle 19c installation under Debian 12">Oracle 19c installation under Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/instalar_postgresql/ title="PostgreSQL installation in Debian 12">PostgreSQL installation in Debian 12</a></li><li><a class=list-link href=/en/posts/base_de_datos/oracle_acceso_remoto/ title="Remote access configuration in Oracle">Remote access configuration in Oracle</a></li><li><a class=list-link href=/en/posts/base_de_datos/acceso_remoto_mariadb/ title="Remote access in MariaDB">Remote access in MariaDB</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/docker/> Docker</a><ul><li><a class=list-link href=/en/posts/docker/instalar_docker_compose/ title="Docker Compose Installation on Ubuntu 24">Docker Compose Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/instalar_docker_ubuntu24/ title="Docker Installation on Ubuntu 24">Docker Installation on Ubuntu 24</a></li><li><a class=list-link href=/en/posts/docker/taller1/ title="Workshop 1 Storage and networks in Docker">Workshop 1 Storage and networks in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller2/ title="Workshop 2 Multicontainer Scenarios in Docker">Workshop 2 Multicontainer Scenarios in Docker</a></li><li><a class=list-link href=/en/posts/docker/taller3/ title="Workshop 3 Image creation Docker">Workshop 3 Image creation Docker</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/cortafuegos/> Firewall</a><ul><li><a class=list-link href=/en/posts/cortafuegos/fortinet_cli/ title="Fortinet CLI">Fortinet CLI</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_uno/ title="Perimetral with Fortinet I">Perimetral with Fortinet I</a></li><li><a class=list-link href=/en/posts/cortafuegos/fortinet_dos/ title="Perimetral with Fortinet II">Perimetral with Fortinet II</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_uno/ title="Perimetral with Nftables I">Perimetral with Nftables I</a></li><li><a class=list-link href=/en/posts/cortafuegos/nftables_dos/ title="Perimetral with Nftables II">Perimetral with Nftables II</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/drivers/> Linux Drivers</a><ul><li><a class=list-link href=/en/posts/drivers/nvidia_driver/ title="Drivers Nvidia">Drivers Nvidia</a></li><li><a class=list-link href=/en/posts/drivers/nvidia_optimus/ title="How to choose which graph to use on my laptop with Linux">How to choose which graph to use on my laptop with Linux</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/redes/> Networks</a><ul><li><a class=list-link href=/en/posts/redes/android_gns3/ title="Android GNS3-KVM">Android GNS3-KVM</a></li><li><a class=list-link href=/en/posts/redes/escenario_ipv6_basico/ title="Basic IPv6 scenario">Basic IPv6 scenario</a></li><li><a class=list-link href=/en/posts/redes/instalacion_wireshark_gns3/ title="GNS3 and Wireshark installation">GNS3 and Wireshark installation</a></li><li><a class=list-link href=/en/posts/redes/instalar_gns3_debian12/ title="GNS3 installation in Debian 12">GNS3 installation in Debian 12</a></li><li><a class=list-link href=/en/posts/redes/switches_gns3/ title="GNS3 switch configuration">GNS3 switch configuration</a></li><li><a class=list-link href=/en/posts/redes/tuneles_ipv6/ title="IPV6 Tunnels">IPV6 Tunnels</a></li><li><a class=list-link href=/en/posts/redes/configuracion_de_nat/ title="NAT in Cisco and Linux">NAT in Cisco and Linux</a></li><li><a class=list-link href=/en/posts/redes/comandos_de_supervision_de_redes/ title="Network monitoring commands">Network monitoring commands</a></li><li><a class=list-link href=/en/posts/redes/enroutamiento_openstack/ title="OpenStack routing">OpenStack routing</a></li><li><a class=list-link href=/en/posts/redes/arp/ title="Protocol ARP">Protocol ARP</a></li><li><a class=list-link href=/en/posts/redes/underworld/ title=Underworld>Underworld</a></li><li><a class=list-link href=/en/posts/redes/underworld_evolution/ title="Underworld evolution">Underworld evolution</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/seguridad/> Security</a><ul><li><a class=list-link href=/en/posts/seguridad/forense/ title="Forensic computer">Forensic computer</a></li><li><a class=list-link href=/en/posts/seguridad/https_autofirmado/ title=HTTPS>HTTPS</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/en/posts/servicios/> Services</a><ul class=active><li><a class=list-link href=/en/posts/servicios/apache/ title=Apache>Apache</a></li><li><a class=list-link href=/en/posts/servicios/dhcp/ title=DHCP>DHCP</a></li><li><a class="active list-link" href=/en/posts/servicios/dns/ title=DNS>DNS</a></li><li><a class=list-link href=/en/posts/servicios/ftp/ title=FTP>FTP</a></li><li><a class=list-link href=/en/posts/servicios/nat_iptables/ title="NAT with iptables">NAT with iptables</a></li><li><a class=list-link href=/en/posts/servicios/ssh/ title=SSH>SSH</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/> Systems</a><ul><li><a class=list-link href=/en/posts/sistemas/ad_ubuntu/ title="Active Directory in Ubuntu">Active Directory in Ubuntu</a></li><li><a class=list-link href=/en/posts/sistemas/recoleccion_logs_journald/ title="Centralized collection of logs journald">Centralized collection of logs journald</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/compilaciones_linux/> Compilations in LINUX</a><ul><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_programa_en_c_utilizando_un_makefile/ title="Compilation of a C-program using a Makefile">Compilation of a C-program using a Makefile</a></li><li><a class=list-link href=/en/posts/sistemas/compilaciones_linux/compilacion_de_un_kernel/ title="Compilation of a kernel">Compilation of a kernel</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/creacion_de_un_sistema_automatizado_de_instalacion/ title="Creation of an automated installation system">Creation of an automated installation system</a></li><li><a class=list-link href=/en/posts/sistemas/samba_debian/ title="Install and configure samba in Debian">Install and configure samba in Debian</a></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/comandos_linux/> Linux Command</a><ul><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_modificacion_de_parametros_del_kernel/ title="Kernel parameter modification exercises">Kernel parameter modification exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/comandos_procesos/ title="Linux processes">Linux processes</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_de_manejo_de_modulos/ title="Module management exercises">Module management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/gestion_de_paquetes/ title="Package management">Package management</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/empaquetadores_compresores/ title="Packaging and compressors">Packaging and compressors</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/ejercicios_gestion_de_paqueteria/ title="Paid management exercises">Paid management exercises</a></li><li><a class=list-link href=/en/posts/sistemas/comandos_linux/programacion_tareas/ title="Task programming">Task programming</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/sistemas/migraciones/> Migration in Linnux</a><ul><li><a class=list-link href=/en/posts/sistemas/migraciones/migracion_sistema_de_ficheros/ title="File system">File system</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/paso_de_centos_stream_8_a_centos_stream_9/ title="Migtation from CentOS stream 8 to CentOS stream 9">Migtation from CentOS stream 8 to CentOS stream 9</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/eliminacion_systemd/ title="Systemd elimination">Systemd elimination</a></li><li><a class=list-link href=/en/posts/sistemas/migraciones/transformacion_instancia_cloud/ title="Transformation instance cloud">Transformation instance cloud</a></li></ul></li><li><a class=list-link href=/en/posts/sistemas/nfs_debian/ title="NFS in Debian">NFS in Debian</a></li><li><a class=list-link href=/en/posts/sistemas/activacion_selinux/ title="SELinux activation configuration">SELinux activation configuration</a></li><li><a class=list-link href=/en/posts/sistemas/comparticion_de_directorios_en_windows/ title="Share resources in Windows">Share resources in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/ssh_windows/ title="Ssh service in Windows">Ssh service in Windows</a></li><li><a class=list-link href=/en/posts/sistemas/almacenamiento_servidor_independiente/ title="Storage Spaces in Windows Server">Storage Spaces in Windows Server</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/vpn/> VPN</a><ul><li><a class=list-link href=/en/posts/vpn/comparativa_ovpn_wire/ title="OpenVPN and Wireguard Comparative">OpenVPN and Wireguard Comparative</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_openvpn/ title="OpenVPN remote access">OpenVPN remote access</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_strongswang/ title="Remote access Ipsec StrongSwan">Remote access Ipsec StrongSwan</a></li><li><a class=list-link href=/en/posts/vpn/ipsec_cisco/ title="Site-to-Site IPsec Cisco">Site-to-Site IPsec Cisco</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_fortinet/ title="Site-to-Site IPsec Fortinet">Site-to-Site IPsec Fortinet</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_openvpn/ title="Site-to-Site OpenVPN">Site-to-Site OpenVPN</a></li><li><a class=list-link href=/en/posts/vpn/site_to_site_wireguard/ title="Site-to-Site Wireguard">Site-to-Site Wireguard</a></li><li><a class=list-link href=/en/posts/vpn/acceso_remoto_wireguard/ title="Wireguard remote access">Wireguard remote access</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/en/posts/iaw/> Web applications</a><ul><li><a class=list-link href=/en/posts/iaw/lamp/ title="LAMP stack installation">LAMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/lemp/ title="LEMP stack installation">LEMP stack installation</a></li><li><a class=list-link href=/en/posts/iaw/wordpress/ title="WordPress LAMP">WordPress LAMP</a></li><li><a class=list-link href=/en/posts/iaw/wordpress_lemp/ title="WordPress LEMP">WordPress LEMP</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/servicios/dns/portada-dns.jpg)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/john_hu_2aff0fda0501496d.png alt="Author Image"><h5 class=author-name>Francisco Javier Cruces Doval</h5><p class=text-muted>Friday, September 8, 2023 | 5 minutes</p></div><div class=title><h1>DNS server configuration in Debian</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/en/tags/servicios/ class="btn btn-sm btn-info">Servicios</a></li><li class=rounded><a href=/en/tags/nat/ class="btn btn-sm btn-info">NAT</a></li><li class=rounded><a href=/en/tags/smr/ class="btn btn-sm btn-info">SMR</a></li><li class=rounded><a href=/en/tags/dhcp/ class="btn btn-sm btn-info">DHCP</a></li><li class=rounded><a href=/en/tags/snat/ class="btn btn-sm btn-info">SNAT</a></li><li class=rounded><a href=/en/tags/dns/ class="btn btn-sm btn-info">DNS</a></li><li class=rounded><a href=/en/tags/bind9/ class="btn btn-sm btn-info">BIND9</a></li><li class=rounded><a href=/en/tags/dnsmasq/ class="btn btn-sm btn-info">DNSMASQ</a></li></ul></div><div class=post-content id=post-content><p>♪ DNS server settings in Debian</p><h3 id=dnsmasq>Dnsmasq</h3><p>The dnsmasq package allows you to start a DNS server in a very simple way. Simply by installing and starting the dnsmasq service, without any additional configuration, our PC will become a DNS cache server and will also solve the names we have configured in the / etc / hosts file of our server. The resolution will work both directly and inversely, that is, it will solve the IP given a PC name and the PC name given the IP.</p><h3 id=installation>Installation</h3><p>To install it only the following command will be necessary:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.048.png alt></p><p>Configuration
Then we edit the / etc / dnsmasq.conf file and modify the following lines:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.049.png alt></p><ol><li>We discomment strict-order for DNS requests to be made to the servers that appear in the / etc / resolv.conf file in the order in it appear.</li></ol><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.050.png alt></p><p>2.We include network interfaces that must accept DNS requests, discomment the interface line for example: interface = eth0</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.051.png alt></p><p>We will now create our configuration file:</p><ol start=3><li>We create the configuration file of our area:</li></ol><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.052.png alt></p><ol start=4><li>The domain we have chosen is iesgn.org</li></ol><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.053.png alt></p><ol start=5><li>We assume that the name of the server is miseror.</li></ol><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.054.png alt></p><p>6.We will assume that we have a ftp server called ftp.iesgn.org and that it is in 192.168.1.201 (this is fictitious) and that we have two websites: <a href=https://www.iesgn.org target=_blank rel=noopener>www.iesgn.org</a> and departments.iesgn.org.</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.055.png alt></p><ol start=7><li>We also want to name the client who had a reservation assigned: smooth.</li></ol><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.056.png alt></p><ol start=8><li>We restart the service</li></ol><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.057.png alt></p><h2 id=modification-on-dhcp-server>modification on DHCP server</h2><p>Configure the customers and indicate that your DNS is our server. If you have a DHCP server modify it to send the new DNS to the customers.</p><p>We edit the file:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.058.png alt></p><p>And we restart the service:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.059.png alt></p><p>Now we&rsquo;ll check if the client has changed our dns by looking at the following file:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.060.png alt></p><p>We have been successfully changed.</p><h3 id=command-to-check-the-operation-of-dns>Command to check the operation of dns</h3><p>Check the operation using the dig / nslookup command from the customers asking for the different names. Check that the DNS server makes forwarder asking with dig / nslookup the address ip of <a href=https://www.josedomingo.org target=_blank rel=noopener>www.josedomingo.org</a>.</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.061.png alt></p><p>For the Jose Sunday page the answer is unauthorized because our server does not have the resolution in your file and has to use a forwarder</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.062.png alt></p><p>As you see above I have created my own area and despite having followed the steps of this [page] (https: / / <a href=https://www.josedomingo.org target=_blank rel=noopener>www.josedomingo.org</a> / pledin / 2020 / 12 / servo-dns-dnsmasq /) of Jose Domingo, I have not managed to get the answers authorized.</p><p>I created the dns.conf file.</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.063.png alt></p><p>And I created my area:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.064.png alt></p><p>I have also tried more things however the only way I have got to give me an authorized response is by having only the resolutions in the host file of the server, without creating my area.</p><h3 id=dns-bind-9>DNS BIND 9</h3><h3 id=installation-1>Installation</h3><p>The first thing we will do is uninstall dnsmasq since both are not compatible:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.065.png alt></p><p>We can also see that it tells us that the / etc / dnsmasq.d / directory when not empty has not been deleted it would be good to delete it manually to remove all traces of previous configurations:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.066.png alt></p><p>Now let&rsquo;s install them bind:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.067.png alt></p><p>Configuration</p><p>Now we will edit the / etc / bind / named.conf.local file where we will create the areas (direct and reverse). In the case of practice we are asked a direct (isgn.com) and a reverse (network 192.168.1).</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.068.png alt></p><p>We will add the following lines to that file:</p><p>In the / etc / bind directory are the db.empty and db.127 files (direct and reverse area configuration files respectively). We copy them to the / var / cache / bind directory to start adding the records</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.069.png alt></p><p>We modify the / var / cache / bind / db.isgn file and include the following lines for direct resolution:</p><ul><li>javiercrosses is the name of my machine I have changed it to make things easier</li></ul><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.070.png alt></p><p>We will now do the same for the reverse resolution:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.071.png alt></p><p>We will now restart the service to apply the changes:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.072.png alt></p><p>In addition to make sure we have done the configuration well we will look at the state of the service to see if our areas are working:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.073.png alt></p><p>This step is optional, but thanks to reviewing this I have discovered because I did not do the reverse resolution and thanks to seeing the areas that were loaded I realized that the error was in the / etc / bind / named.conf.local configuration file and I was able to fix it.</p><h2 id=-reporter># Reporter</h2><p>So far, it would only solve the names and ip of our local network. If we want to set up a remander to ask in case the local DNS cannot give us the answer, we must edit the nano / etc / bind / named.conf.options file and add the following:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.074.png alt></p><p>Before making this paragraph clear that as in the section of dnsmasq we already comment on the host file and modify the configuration of the dhcp to assign the dns automatically, I will omit it from this part.</p><h3 id=commands-to-check-service-performance>Commands to check service performance</h3><p>Check the operation using the dig / nslookup command from the customers asking for the different names. Check that the DNS server makes forwarder asking with dig / nslookup the address ip of <a href=https://www.josedomingo.org target=_blank rel=noopener>www.josedomingo.org</a>.</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.075.png alt></p><p>We see here that the answers are correct, those on our server are authorized while the page of Jose Domingo has given us a forwarder.</p><p>I will now make the same requests but inverse:</p><p><img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.076.png alt>
<img src=/servicios/dns/img/Aspose.Words.5fca9cc1-3c81-4853-a5ed-a70b0122341b.077.png alt></p><p>With this we have checked that the dns server works properly.</p></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fservicios%2fdns%2fdns%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fservicios%2fdns%2fdns%2f&text=DNS%20server%20configuration%20in%20Debian&via=Atlas" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fservicios%2fdns%2fdns%2f&title=DNS%20server%20configuration%20in%20Debian" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fservicios%2fdns%2fdns%2f&title=DNS%20server%20configuration%20in%20Debian" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button bg-whatsapp" href="https://api.whatsapp.com/send?text=DNS%20server%20configuration%20in%20Debian https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fservicios%2fdns%2fdns%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn icon-button" href="mailto:?subject=DNS%20server%20configuration%20in%20Debian&body=https%3a%2f%2fwww.javiercd.es%2fen%2fposts%2fservicios%2fdns%2fdns%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/javierasping/sentinel/edit/main/content/posts/servicios/dns/dns.en.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#dnsmasq>Dnsmasq</a></li><li><a href=#installation>Installation</a></li></ul></li><li><a href=#modification-on-dhcp-server>modification on DHCP server</a><ul><li><a href=#command-to-check-the-operation-of-dns>Command to check the operation of dns</a></li><li><a href=#dns-bind-9>DNS BIND 9</a></li><li><a href=#installation-1>Installation</a></li></ul></li><li><a href=#-reporter># Reporter</a><ul><li><a href=#commands-to-check-service-performance>Commands to check service performance</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=https://www.javiercd.es/en/#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:contacto@javiercd.es target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contacto@javiercd.es</span></a></li><li><a href=https://github.com/javierasping target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>javierasping</span></a></li><li><a href=https://www.linkedin.com/in/javiercd target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Francisco Javier Cruces Doval</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.29119cfdb8d2f06f4caaea7b9908096b5c109c5174eab5fca7e4e0efb0ffcaa0.js integrity="sha256-KRGc/bjS8G9Mqup7mQgJa1wQnFF06rX8p+Tg77D/yqA=" defer></script></body></html>